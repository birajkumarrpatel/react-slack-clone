{"code":"(this[\"webpackJsonpreact-slack-clone\"]=this[\"webpackJsonpreact-slack-clone\"]||[]).push([[0],{320:function(e,t,n){},538:function(e,t,n){\"use strict\";n.r(t);var a=n(21),s=n(22),r=n(24),o=n(23),c=n(0),i=n.n(c),l=n(78),d=n.n(l),u=n(567),h=(n(320),n(35)),j=n(180);n(324),n(326),n(539);j.a.initializeApp({apiKey:\"AIzaSyCeo-LVX4VJ-AleJN2O3oTu1Ia22hbNlo0\",authDomain:\"react-slack-clone-by-biraj.firebaseapp.com\",projectId:\"react-slack-clone-by-biraj\",storageBucket:\"react-slack-clone-by-biraj.appspot.com\",messagingSenderId:\"877501910791\",appId:\"1:877501910791:web:f207ae35ac1965ca93ffa2\",measurementId:\"G-VS1R5591KM\"});var f=j.a,p=\"SET_USER\",m=\"CLEAR_USER\",g=\"SET_CURRENT_CHANNEL\",b=\"SET_PRIVATE_CHANNEL\",v=\"SET_USER_POSTS\",O=\"SET_COLORS\",C=function(e){return{type:g,payload:{currentChannel:e}}},y=function(e){return{type:b,payload:{isPrivateChannel:e}}},x=n(549),S=n(565),k=n(563),R=n(540),w=n(557),U=n(572),P=n(96),L=n(50),A=n(186),N=n(5),M=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={modal:!1,primary:\"\",secondary:\"\",user:e.props.currentUser,usersRef:f.database().ref(\"users\"),userColors:[]},e.removeListeners=function(){e.state.usersRef.child(\"\".concat(e.state.user.uid,\"/colors\")).off()},e.addListener=function(t){var n=[];e.state.usersRef.child(\"\".concat(t,\"/colors\")).on(\"child_added\",(function(t){n.unshift(t.val()),e.setState({userColors:n})}))},e.handleChangePrimary=function(t){return e.setState({primary:t.hex})},e.handleChangeSecondary=function(t){return e.setState({secondary:t.hex})},e.handleSaveColors=function(){e.state.primary&&e.state.secondary&&e.saveColors(e.state.primary,e.state.secondary)},e.saveColors=function(t,n){e.state.usersRef.child(\"\".concat(e.state.user.uid,\"/colors\")).push().update({primary:t,secondary:n}).then((function(){console.log(\"Colors added\"),e.closeModal()})).catch((function(e){return console.error(e)}))},e.displayUserColors=function(t){return t.length>0&&t.map((function(t,n){return Object(N.jsxs)(i.a.Fragment,{children:[Object(N.jsx)(x.a,{}),Object(N.jsx)(\"div\",{className:\"color__container\",onClick:function(){return e.props.setColors(t.primary,t.secondary)},children:Object(N.jsx)(\"div\",{className:\"color__square\",style:{background:t.primary},children:Object(N.jsx)(\"div\",{className:\"color__overlay\",style:{background:t.secondary}})})})]},n)}))},e.openModal=function(){return e.setState({modal:!0})},e.closeModal=function(){return e.setState({modal:!1})},e}return Object(s.a)(n,[{key:\"componentDidMount\",value:function(){this.state.user&&this.addListener(this.state.user.uid)}},{key:\"componentWillUnmount\",value:function(){this.removeListeners()}},{key:\"render\",value:function(){var e=this.state,t=e.modal,n=e.primary,a=e.secondary,s=e.userColors;return Object(N.jsxs)(S.a,{as:k.a,icon:\"labeled\",inverted:!0,vertical:!0,visible:!0,width:\"very thin\",children:[Object(N.jsx)(x.a,{}),Object(N.jsx)(R.a,{icon:\"add\",size:\"small\",color:\"blue\",onClick:this.openModal}),this.displayUserColors(s),Object(N.jsxs)(w.a,{basic:!0,open:t,onClose:this.closeModal,children:[Object(N.jsx)(w.a.Header,{children:\"Choose App Colors\"}),Object(N.jsxs)(w.a.Content,{children:[Object(N.jsxs)(U.a,{inverted:!0,children:[Object(N.jsx)(P.a,{content:\"Primary Color\"}),Object(N.jsx)(A.a,{color:n,onChange:this.handleChangePrimary})]}),Object(N.jsxs)(U.a,{inverted:!0,children:[Object(N.jsx)(P.a,{content:\"Secondary Color\"}),Object(N.jsx)(A.a,{color:a,onChange:this.handleChangeSecondary})]})]}),Object(N.jsxs)(w.a.Actions,{children:[Object(N.jsxs)(R.a,{color:\"green\",inverted:!0,onClick:this.handleSaveColors,children:[Object(N.jsx)(L.a,{name:\"checkmark\"}),\" Save Colors\"]}),Object(N.jsxs)(R.a,{color:\"red\",inverted:!0,onClick:this.closeModal,children:[Object(N.jsx)(L.a,{name:\"remove\"}),\" Cancel\"]})]})]})]})}}]),n}(i.a.Component),I=Object(h.b)(null,{setColors:function(e,t){return{type:O,payload:{primaryColor:e,secondaryColor:t}}}})(M),T=n(287),E=n.n(T),_=n(568),F=n(559),D=n(307),z=n(551),B=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={user:e.props.currentUser,modal:!1,previewImage:\"\",croppedImage:\"\",blob:null,uploadedCroppedImage:\"\",storageRef:f.storage().ref(),userRef:f.auth().currentUser,usersRef:f.database().ref(\"users\"),metadata:{contentType:\"image/jpeg\"}},e.openModal=function(){return e.setState({modal:!0})},e.closeModal=function(){return e.setState({modal:!1})},e.dropdownOptions=function(){return[{key:\"user\",text:Object(N.jsxs)(\"span\",{children:[\"Signed in as \",Object(N.jsx)(\"strong\",{children:e.state.user.displayName})]}),disabled:!0},{key:\"avatar\",text:Object(N.jsx)(\"span\",{onClick:e.openModal,children:\"Change Avatar\"})},{key:\"signout\",text:Object(N.jsx)(\"span\",{onClick:e.handleSignout,children:\"Sign Out\"})}]},e.uploadCroppedImage=function(){var t=e.state,n=t.storageRef,a=t.userRef,s=t.blob,r=t.metadata;n.child(\"avatars/users/\".concat(a.uid)).put(s,r).then((function(t){t.ref.getDownloadURL().then((function(t){e.setState({uploadedCroppedImage:t},(function(){return e.changeAvatar()}))}))}))},e.changeAvatar=function(){e.state.userRef.updateProfile({photoURL:e.state.uploadedCroppedImage}).then((function(){console.log(\"PhotoURL updated\"),e.closeModal()})).catch((function(e){console.error(e)})),e.state.usersRef.child(e.state.user.uid).update({avatar:e.state.uploadedCroppedImage}).then((function(){console.log(\"User avatar updated\")})).catch((function(e){console.error(e)}))},e.handleChange=function(t){var n=t.target.files[0],a=new FileReader;n&&(a.readAsDataURL(n),a.addEventListener(\"load\",(function(){e.setState({previewImage:a.result})})))},e.handleCropImage=function(){e.avatarEditor&&e.avatarEditor.getImageScaledToCanvas().toBlob((function(t){var n=URL.createObjectURL(t);e.setState({croppedImage:n,blob:t})}))},e.handleSignout=function(){f.auth().signOut().then((function(){return console.log(\"signed out!\")}))},e}return Object(s.a)(n,[{key:\"render\",value:function(){var e=this,t=this.state,n=t.user,a=t.modal,s=t.previewImage,r=t.croppedImage,o=this.props.primaryColor;return Object(N.jsx)(u.a,{style:{background:o},children:Object(N.jsxs)(u.a.Column,{children:[Object(N.jsxs)(u.a.Row,{style:{padding:\"1.2em\",margin:0},children:[Object(N.jsxs)(_.a,{inverted:!0,floated:\"left\",as:\"h2\",children:[Object(N.jsx)(L.a,{name:\"code\"}),Object(N.jsx)(_.a.Content,{children:\"Chat\"})]}),Object(N.jsx)(_.a,{style:{padding:\"0.25em\"},as:\"h4\",inverted:!0,children:Object(N.jsx)(F.a,{trigger:Object(N.jsxs)(\"span\",{children:[Object(N.jsx)(D.a,{src:n.photoURL,spaced:\"right\",avatar:!0}),n.displayName]}),options:this.dropdownOptions()})})]}),Object(N.jsxs)(w.a,{basic:!0,open:a,onClose:this.closeModal,children:[Object(N.jsx)(w.a.Header,{children:\"Change Avatar\"}),Object(N.jsxs)(w.a.Content,{children:[Object(N.jsx)(z.a,{onChange:this.handleChange,fluid:!0,type:\"file\",label:\"New Avatar\",name:\"previewImage\"}),Object(N.jsx)(u.a,{centered:!0,stackable:!0,columns:2,children:Object(N.jsxs)(u.a.Row,{centered:!0,children:[Object(N.jsx)(u.a.Column,{className:\"ui center aligned grid\",children:s&&Object(N.jsx)(E.a,{ref:function(t){return e.avatarEditor=t},image:s,width:120,height:120,border:50,scale:1.2})}),Object(N.jsx)(u.a.Column,{children:r&&Object(N.jsx)(D.a,{style:{margin:\"3.5em auto\"},width:100,height:100,src:r})})]})})]}),Object(N.jsxs)(w.a.Actions,{children:[r&&Object(N.jsxs)(R.a,{color:\"green\",inverted:!0,onClick:this.uploadCroppedImage,children:[Object(N.jsx)(L.a,{name:\"save\"}),\" Change Avatar\"]}),Object(N.jsxs)(R.a,{color:\"green\",inverted:!0,onClick:this.handleCropImage,children:[Object(N.jsx)(L.a,{name:\"image\"}),\" Preview\"]}),Object(N.jsxs)(R.a,{color:\"red\",inverted:!0,onClick:this.closeModal,children:[Object(N.jsx)(L.a,{name:\"remove\"}),\" Cancel\"]})]})]})]})})}}]),n}(i.a.Component),W=n(68),V=n(40),H=n(556),q=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={activeChannel:\"\",user:e.props.currentUser,channel:null,channels:[],channelName:\"\",channelDetails:\"\",channelsRef:f.database().ref(\"channels\"),messagesRef:f.database().ref(\"messages\"),typingRef:f.database().ref(\"typing\"),notifications:[],modal:!1,firstLoad:!0},e.addListeners=function(){var t=[];e.state.channelsRef.on(\"child_added\",(function(n){t.push(n.val()),e.setState({channels:t},(function(){return e.setFirstChannel()})),e.addNotificationListener(n.key)}))},e.addNotificationListener=function(t){e.state.messagesRef.child(t).on(\"value\",(function(n){e.state.channel&&e.handleNotifications(t,e.state.channel.id,e.state.notifications,n)}))},e.handleNotifications=function(t,n,a,s){var r=0,o=a.findIndex((function(e){return e.id===t}));-1!==o?(t!==n&&(r=a[o].total,s.numChildren()-r>0&&(a[o].count=s.numChildren()-r)),a[o].lastKnownTotal=s.numChildren()):a.push({id:t,total:s.numChildren(),lastKnownTotal:s.numChildren(),count:0}),e.setState({notifications:a})},e.removeListeners=function(){e.state.channelsRef.off(),e.state.channel.forEach((function(t){e.state.messagesRef.child(t.id).off()}))},e.setFirstChannel=function(){var t=e.state.channels[0];e.state.firstLoad&&e.state.channels.length>0&&(e.props.setCurrentChannel(t),e.setActiveChannel(t),e.setState({channel:t})),e.setState({firstLoad:!1})},e.addChannel=function(){var t=e.state,n=t.channelsRef,a=t.channelName,s=t.channelDetails,r=t.user,o=n.push().key,c={id:o,name:a,details:s,createdBy:{name:r.displayName,avatar:r.photoURL}};n.child(o).update(c).then((function(){e.setState({channelName:\"\",channelDetails:\"\"}),e.closeModal(),console.log(\"channel added\")})).catch((function(e){console.error(e)}))},e.handleSubmit=function(t){t.preventDefault(),e.isFormValid(e.state)&&e.addChannel()},e.handleChange=function(t){e.setState(Object(V.a)({},t.target.name,t.target.value))},e.changeChannel=function(t){e.setActiveChannel(t),e.state.typingRef.child(e.state.channel.id).child(e.state.user.uid).remove(),e.clearNotifications(),e.props.setCurrentChannel(t),e.props.setPrivateChannel(!1),e.setState({channel:t})},e.clearNotifications=function(){var t=e.state.notifications.findIndex((function(t){return t.id===e.state.channel.id}));if(-1!==t){var n=Object(W.a)(e.state.notifications);n[t].total=e.state.notifications[t].lastKnownTotal,n[t].count=0,e.setState({notifications:n})}},e.setActiveChannel=function(t){e.setState({activeChannel:t.id})},e.getNotificationCount=function(t){var n=0;if(e.state.notifications.forEach((function(e){e.id===t.id&&(n=e.count)})),n>0)return n},e.displayChannels=function(t){return t.length>0&&t.map((function(t){return Object(N.jsxs)(k.a.Item,{onClick:function(){return e.changeChannel(t)},name:t.name,style:{opacity:.7},active:t.id===e.state.activeChannel,children:[e.getNotificationCount(t)&&Object(N.jsx)(P.a,{color:\"red\",children:e.getNotificationCount(t)}),\"# \",t.name]},t.id)}))},e.isFormValid=function(e){var t=e.channelName,n=e.channelDetails;return t&&n},e.openModal=function(){return e.setState({modal:!0})},e.closeModal=function(){return e.setState({modal:!1})},e}return Object(s.a)(n,[{key:\"componentDidMount\",value:function(){this.addListeners()}},{key:\"componentWillUnmount\",value:function(){this.removeListeners()}},{key:\"render\",value:function(){var e=this.state,t=e.channels,n=e.modal;return Object(N.jsxs)(i.a.Fragment,{children:[Object(N.jsxs)(k.a.Menu,{className:\"menu\",children:[Object(N.jsxs)(k.a.Item,{children:[Object(N.jsxs)(\"span\",{children:[Object(N.jsx)(L.a,{name:\"exchange\"}),\" CHANNELS\"]}),\" \",\"(\",t.length,\") \",Object(N.jsx)(L.a,{name:\"add\",onClick:this.openModal})]}),this.displayChannels(t)]}),Object(N.jsxs)(w.a,{basic:!0,open:n,onClose:this.closeModal,children:[Object(N.jsx)(w.a.Header,{children:\"Add a Channel\"}),Object(N.jsx)(w.a.Content,{children:Object(N.jsxs)(H.a,{onSubmit:this.handleSubmit,children:[Object(N.jsx)(H.a.Field,{children:Object(N.jsx)(z.a,{fluid:!0,label:\"Name of Channel\",name:\"channelName\",onChange:this.handleChange})}),Object(N.jsx)(H.a.Field,{children:Object(N.jsx)(z.a,{fluid:!0,label:\"About the Channel\",name:\"channelDetails\",onChange:this.handleChange})})]})}),Object(N.jsxs)(w.a.Actions,{children:[Object(N.jsxs)(R.a,{color:\"green\",inverted:!0,onClick:this.handleSubmit,children:[Object(N.jsx)(L.a,{name:\"checkmark\"}),\" Add\"]}),Object(N.jsxs)(R.a,{color:\"red\",inverted:!0,onClick:this.closeModal,children:[Object(N.jsx)(L.a,{name:\"remove\"}),\" Cancel\"]})]})]})]})}}]),n}(i.a.Component),K=Object(h.b)(null,{setCurrentChannel:C,setPrivateChannel:y})(q),G=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={activeChannel:\"\",user:e.props.currentUser,users:[],usersRef:f.database().ref(\"users\"),connectedRef:f.database().ref(\".info/connected\"),presenceRef:f.database().ref(\"presence\")},e.removeListeners=function(){e.state.usersRef.off(),e.state.presenceRef.off(),e.state.connectedRef.off()},e.addListeners=function(t){var n=[];e.state.usersRef.on(\"child_added\",(function(a){if(t!==a.key){var s=a.val();s.uid=a.key,s.status=\"offline\",n.push(s),e.setState({users:n})}})),e.state.connectedRef.on(\"value\",(function(n){if(!0===n.val()){var a=e.state.presenceRef.child(t);a.set(!0),a.onDisconnect().remove((function(e){null!==e&&console.error(e)}))}})),e.state.presenceRef.on(\"child_added\",(function(n){t!==n.key&&e.addStatusToUser(n.key)})),e.state.presenceRef.on(\"child_removed\",(function(n){t!==n.key&&e.addStatusToUser(n.key,!1)}))},e.addStatusToUser=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=e.state.users.reduce((function(e,a){return a.uid===t&&(a.status=\"\".concat(n?\"online\":\"offline\")),e.concat(a)}),[]);e.setState({users:a})},e.isUserOnline=function(e){return\"online\"===e.status},e.changeChannel=function(t){var n={id:e.getChannelId(t.uid),name:t.name};e.props.setCurrentChannel(n),e.props.setPrivateChannel(!0),e.setActiveChannel(t.uid)},e.getChannelId=function(t){var n=e.state.user.uid;return t<n?\"\".concat(t,\"/\").concat(n):\"\".concat(n,\"/\").concat(t)},e.setActiveChannel=function(t){e.setState({activeChannel:t})},e}return Object(s.a)(n,[{key:\"componentDidMount\",value:function(){this.state.user&&this.addListeners(this.state.user.uid)}},{key:\"componentWillUnmount\",value:function(){this.removeListeners()}},{key:\"render\",value:function(){var e=this,t=this.state,n=t.users,a=t.activeChannel;return Object(N.jsxs)(k.a.Menu,{className:\"menu\",children:[Object(N.jsxs)(k.a.Item,{children:[Object(N.jsxs)(\"span\",{children:[Object(N.jsx)(L.a,{name:\"mail\"}),\" DIRECT MESSAGES\"]}),\" \",\"(\",n.length,\")\"]}),n.map((function(t){return Object(N.jsxs)(k.a.Item,{active:t.uid===a,onClick:function(){return e.changeChannel(t)},style:{opacity:.7,fontStyle:\"italic\"},children:[Object(N.jsx)(L.a,{name:\"circle\",color:e.isUserOnline(t)?\"green\":\"red\"}),\"@ \",t.name]},t.uid)}))]})}}]),n}(i.a.Component),J=Object(h.b)(null,{setCurrentChannel:C,setPrivateChannel:y})(G),Q=n(42),X=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={user:e.props.currentUser,usersRef:f.database().ref(\"users\"),activeChannel:\"\",starredChannels:[]},e.removeListener=function(){e.state.usersRef.child(\"\".concat(e.state.user.uid,\"/starred\")).off()},e.addListeners=function(t){e.state.usersRef.child(t).child(\"starred\").on(\"child_added\",(function(t){var n=Object(Q.a)({id:t.key},t.val());e.setState({starredChannels:[].concat(Object(W.a)(e.state.starredChannels),[n])})})),e.state.usersRef.child(t).child(\"starred\").on(\"child_removed\",(function(t){var n=Object(Q.a)({id:t.key},t.val()),a=e.state.starredChannels.filter((function(e){return e.id!==n.id}));e.setState({starredChannels:a})}))},e.setActiveChannel=function(t){e.setState({activeChannel:t.id})},e.changeChannel=function(t){e.setActiveChannel(t),e.props.setCurrentChannel(t),e.props.setPrivateChannel(!1)},e.displayChannels=function(t){return t.length>0&&t.map((function(t){return Object(N.jsxs)(k.a.Item,{onClick:function(){return e.changeChannel(t)},name:t.name,style:{opacity:.7},active:t.id===e.state.activeChannel,children:[\"# \",t.name]},t.id)}))},e}return Object(s.a)(n,[{key:\"componentDidMount\",value:function(){this.state.user&&this.addListeners(this.state.user.uid)}},{key:\"componentWillUnmount\",value:function(){this.removeListener()}},{key:\"render\",value:function(){var e=this.state,t=e.starredChannels;e.modal;return Object(N.jsxs)(k.a.Menu,{className:\"menu\",children:[Object(N.jsxs)(k.a.Item,{children:[Object(N.jsxs)(\"span\",{children:[Object(N.jsx)(L.a,{name:\"star\"}),\" STARRED\"]}),\" \",\"(\",t.length,\")\"]}),this.displayChannels(t)]})}}]),n}(i.a.Component),Z=Object(h.b)(null,{setCurrentChannel:C,setPrivateChannel:y})(X),$=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:\"render\",value:function(){var e=this.props,t=e.currentUser,n=e.primaryColor;return Object(N.jsxs)(k.a,{size:\"large\",inverted:!0,fixed:\"left\",vertical:!0,style:{background:n,fontSize:\"1.2rem\"},children:[Object(N.jsx)(B,{primaryColor:n,currentUser:t}),Object(N.jsx)(Z,{currentUser:t}),Object(N.jsx)(K,{currentUser:t}),Object(N.jsx)(J,{currentUser:t})]})}}]),n}(i.a.Component),Y=n(558),ee=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:\"render\",value:function(){var e=this.props,t=e.channelName,n=e.numUniqueUsers,a=e.handleSearchChange,s=e.searchLoading,r=e.isPrivateChannel,o=e.handleStar,c=e.isChannelStarred;return Object(N.jsxs)(U.a,{clearing:!0,children:[Object(N.jsxs)(_.a,{fluid:\"true\",as:\"h2\",floated:\"left\",style:{marginBottom:0},children:[Object(N.jsxs)(\"span\",{children:[t,!r&&Object(N.jsx)(L.a,{onClick:o,name:c?\"star\":\"star outline\",color:c?\"yellow\":\"black\"})]}),Object(N.jsx)(_.a.Subheader,{children:n})]}),Object(N.jsx)(_.a,{floated:\"right\",children:Object(N.jsx)(z.a,{loading:s,onChange:a,size:\"mini\",icon:\"search\",name:\"searchTerm\",placeholder:\"Search Messages\"})})]})}}]),n}(i.a.Component),te=n(296),ne=n.n(te),ae=n(187),se=(n(529),n(185)),re=n.n(se),oe=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={file:null,authorized:[\"image/jpeg\",\"image/png\"]},e.addFile=function(t){var n=t.target.files[0];n&&e.setState({file:n})},e.sendFile=function(){var t=e.state.file,n=e.props,a=n.uploadFile,s=n.closeModal;null!==t&&(e.isAuthorized(t.name)&&(a(t,{contentType:re.a.lookup(t.name)}),s(),e.clearFile()))},e.isAuthorized=function(t){return e.state.authorized.includes(re.a.lookup(t))},e.clearFile=function(){return e.setState({file:null})},e}return Object(s.a)(n,[{key:\"render\",value:function(){var e=this.props,t=e.modal,n=e.closeModal;return Object(N.jsxs)(w.a,{basic:!0,open:t,onClose:n,children:[Object(N.jsx)(w.a.Header,{children:\"Select an Image File\"}),Object(N.jsx)(w.a.Content,{children:Object(N.jsx)(z.a,{onChange:this.addFile,fluid:!0,label:\"File types: jpg, png\",name:\"file\",type:\"file\"})}),Object(N.jsxs)(w.a.Actions,{children:[Object(N.jsxs)(R.a,{onClick:this.sendFile,color:\"green\",inverted:!0,children:[Object(N.jsx)(L.a,{name:\"checkmark\"}),\" Send\"]}),Object(N.jsxs)(R.a,{color:\"red\",inverted:!0,onClick:n,children:[Object(N.jsx)(L.a,{name:\"remove\"}),\" Cancel\"]})]})]})}}]),n}(i.a.Component),ce=n(552),ie=function(e){var t=e.uploadState,n=e.percentUploaded;return\"uploading\"===t&&Object(N.jsx)(ce.a,{className:\"progress__bar\",percent:n,progress:!0,indicating:!0,size:\"medium\",inverted:!0})},le=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={storageRef:f.storage().ref(),typingRef:f.database().ref(\"typing\"),uploadTask:null,uploadState:\"\",percentUploaded:0,message:\"\",channel:e.props.currentChannel,user:e.props.currentUser,loading:!1,errors:[],modal:!1,emojiPicker:!1},e.openModal=function(){return e.setState({modal:!0})},e.closeModal=function(){return e.setState({modal:!1})},e.handleChange=function(t){e.setState(Object(V.a)({},t.target.name,t.target.value))},e.handleKeyDown=function(t){13===t.keyCode&&e.sendMessage();var n=e.state,a=n.message,s=n.typingRef,r=n.channel,o=n.user;a?s.child(r.id).child(o.uid).set(o.displayName):s.child(r.id).child(o.uid).remove()},e.handleTogglePicker=function(){e.setState({emojiPicker:!e.state.emojiPicker})},e.handleAddEmoji=function(t){var n=e.state.message,a=e.colonToUnicode(\"\".concat(n,\" \").concat(t.colons));e.setState({message:a,emojiPicker:!1}),setTimeout((function(){return e.messageInputRef.focus()}),0)},e.colonToUnicode=function(e){return e.replace(/:[A-Za-z0-9_+-]+:/g,(function(e){e=e.replace(/:/g,\"\");var t=ae.b.emojis[e];if(\"undefined\"!==typeof t){var n=t.native;if(\"undefined\"!==typeof n)return n}e=\":\"+e+\":\"}))},e.createMessage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n={timestamp:f.database.ServerValue.TIMESTAMP,user:{id:e.state.user.uid,name:e.state.user.displayName,avatar:e.state.user.photoURL}};return null!==t?n.image=t:n.content=e.state.message,n},e.sendMessage=function(){var t=e.props.getMessagesRef,n=e.state,a=n.message,s=n.channel,r=n.user,o=n.typingRef;a?(e.setState({loading:!0}),t().child(s.id).push().set(e.createMessage()).then((function(){e.setState({loading:!1,message:\"\",errors:[]}),o.child(s.id).child(r.uid).remove()})).catch((function(t){console.error(t),e.setState({loading:!1,errors:e.state.errors.concat(t)})}))):e.setState({errors:e.state.errors.concat({message:\"Add a message\"})})},e.getPath=function(){return e.props.isPrivateChannel?\"chat/private/\".concat(e.state.channel.id):\"chat/public\"},e.uploadFile=function(t,n){var a=e.state.channel.id,s=e.props.getMessagesRef(),r=\"\".concat(e.getPath(),\"/\").concat(ne()(),\".jpg\");e.setState({uploadState:\"uploading\",uploadTask:e.state.storageRef.child(r).put(t,n)},(function(){e.state.uploadTask.on(\"state_changed\",(function(t){var n=Math.round(t.bytesTransferred/t.totalBytes*100);e.setState({percentUploaded:n})}),(function(t){console.error(t),e.setState({errors:e.state.errors.concat(t),uploadState:\"error\",uploadTask:null})}),(function(){e.state.uploadTask.snapshot.ref.getDownloadURL().then((function(t){e.sendFileMessage(t,s,a)})).catch((function(t){console.error(t),e.setState({errors:e.state.errors.concat(t),uploadState:\"error\",uploadTask:null})}))}))}))},e.sendFileMessage=function(t,n,a){n.child(a).push().set(e.createMessage(t)).then((function(){e.setState({uploadState:\"done\"})})).catch((function(t){console.error(t),e.setState({errors:e.state.errors.concat(t)})}))},e}return Object(s.a)(n,[{key:\"componentWillUnmount\",value:function(){null!==this.state.uploadTask&&(this.state.uploadTask.cancel(),this.setState({uploadTask:null}))}},{key:\"render\",value:function(){var e=this,t=this.state,n=t.errors,a=t.message,s=t.loading,r=t.modal,o=t.uploadState,c=t.percentUploaded,i=t.emojiPicker;return Object(N.jsxs)(U.a,{className:\"message__form\",children:[i&&Object(N.jsx)(ae.a,{set:\"apple\",onSelect:this.handleAddEmoji,className:\"emojiPIcker\",title:\"Pick your emoji\",emoji:\"point_up\"}),Object(N.jsx)(z.a,{fluid:!0,name:\"message\",onChange:this.handleChange,onKeyDown:this.handleKeyDown,value:a,ref:function(t){return e.messageInputRef=t},style:{marginBottom:\"0.7em\"},label:Object(N.jsx)(R.a,{icon:i?\"close\":\"add\",content:i?\"close\":null,onClick:this.handleTogglePicker}),labelPosition:\"left\",className:n.some((function(e){return e.message.includes(\"message\")}))?\"error\":\"\",placeholder:\"Write your message\"}),Object(N.jsxs)(R.a.Group,{icon:!0,widths:\"2\",children:[Object(N.jsx)(R.a,{onClick:this.sendMessage,disabled:s,color:\"orange\",content:\"Add Reply\",labelPosition:\"left\",icon:\"edit\"}),Object(N.jsx)(R.a,{color:\"teal\",disabled:\"uploading\"===o,onClick:this.openModal,content:\"Upload Media\",labelPosition:\"right\",icon:\"cloud upload\"})]}),Object(N.jsx)(oe,{modal:r,closeModal:this.closeModal,uploadFile:this.uploadFile}),Object(N.jsx)(ie,{uploadState:o,percentUploaded:c})]})}}]),n}(i.a.Component),de=n(301),ue=n.n(de),he=function(e,t){return e.user.id===t.uid?\"message__self\":\"\"},je=function(e){return e.hasOwnProperty(\"image\")&&!e.hasOwnProperty(\"content\")},fe=function(e){var t,n=e.message,a=e.user;return Object(N.jsxs)(Y.a,{children:[Object(N.jsx)(Y.a.Avatar,{src:n.user.avatar}),Object(N.jsxs)(Y.a.Content,{className:he(n,a),children:[Object(N.jsx)(Y.a.Author,{as:\"a\",children:n.user.name}),Object(N.jsx)(Y.a.Metadata,{children:(t=n.timestamp,ue()(t).fromNow())}),je(n)?Object(N.jsx)(D.a,{src:n.image,className:\"message__image\"}):Object(N.jsx)(Y.a.Text,{children:n.content})]})]})},pe=function(){return Object(N.jsxs)(\"div\",{className:\"typing\",children:[Object(N.jsx)(\"div\",{className:\"typing__dot\"}),Object(N.jsx)(\"div\",{className:\"typing__dot\"}),Object(N.jsx)(\"div\",{className:\"typing__dot\"})]})},me=function(){return Object(N.jsxs)(\"div\",{className:\"skeleton\",children:[Object(N.jsx)(\"div\",{className:\"skeleton__avatar\"}),Object(N.jsx)(\"div\",{className:\"skeleton__author\"}),Object(N.jsx)(\"div\",{className:\"skeleton__details\"})]})},ge=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={privateChannel:e.props.isPrivateChannel,privateMessagesRef:f.database().ref(\"privateMessages\"),messagesRef:f.database().ref(\"messages\"),messages:[],messagesLoading:!0,channel:e.props.currentChannel,isChannelStarred:!1,user:e.props.currentUser,usersRef:f.database().ref(\"users\"),numUniqueUsers:\"\",searchTerm:\"\",searchLoading:!1,searchResults:[],typingRef:f.database().ref(\"typing\"),typingUsers:[],connectedRef:f.database().ref(\".info/connected\"),listeners:[]},e.addToListeners=function(t,n,a){if(-1===e.state.listeners.findIndex((function(e){return e.id===t&&e.ref===n&&e.event===a}))){var s={id:t,ref:n,event:a};e.setState({listeners:e.state.listeners.concat(s)})}},e.removeListeners=function(e){e.forEach((function(e){e.ref.child(e.id).off(e.event)}))},e.scrollToBottom=function(){e.messagesEnd.scrollIntoView({behaviour:\"smooth\"})},e.addListeners=function(t){e.addMessageListener(t),e.addTypingListeners(t)},e.addTypingListeners=function(t){var n=[];e.state.typingRef.child(t).on(\"child_added\",(function(t){t.key!==e.state.user.uid&&(n=n.concat({id:t.key,name:t.val()}),e.setState({typingUsers:n}))})),e.addToListeners(t,e.state.typingRef,\"child_added\"),e.state.typingRef.child(t).on(\"child_removed\",(function(t){-1!==n.findIndex((function(e){return e.id===t.key}))&&(n=n.filter((function(e){return e.id!==t.key})),e.setState({typingUsers:n}))})),e.addToListeners(t,e.state.typingRef,\"child_removed\"),e.state.connectedRef.on(\"value\",(function(n){!0===n.val()&&e.state.typingRef.child(t).child(e.state.user.uid).onDisconnect().remove((function(e){null!==e&&console.error(e)}))}))},e.addMessageListener=function(t){var n=[],a=e.getMessagesRef();a.child(t).on(\"child_added\",(function(t){n.push(t.val()),e.setState({messages:n,messagesLoading:!1}),e.countUniqueUsers(n),e.countUserPosts(n)})),e.addToListeners(t,a,\"child_added\")},e.addUserStarsListener=function(t,n){e.state.usersRef.child(n).child(\"starred\").once(\"value\").then((function(n){if(null!==n.val()){var a=Object.keys(n.val()).includes(t);e.setState({isChannelStarred:a})}}))},e.getMessagesRef=function(){var t=e.state,n=t.messagesRef,a=t.privateMessagesRef;return t.privateChannel?a:n},e.handleStar=function(){e.setState((function(e){return{isChannelStarred:!e.isChannelStarred}}),(function(){return e.starChannel()}))},e.starChannel=function(){e.state.isChannelStarred?e.state.usersRef.child(\"\".concat(e.state.user.uid,\"/starred\")).update(Object(V.a)({},e.state.channel.id,{name:e.state.channel.name,details:e.state.channel.details,createdBy:{name:e.state.channel.createdBy.name,avatar:e.state.channel.createdBy.avatar}})):e.state.usersRef.child(\"\".concat(e.state.user.uid,\"/starred\")).child(e.state.channel.id).remove((function(e){null!==e&&console.error(e)}))},e.handleSearchChange=function(t){e.setState({searchTerm:t.target.value,searchLoading:!0},(function(){return e.handleSearchMessages()}))},e.handleSearchMessages=function(){var t=Object(W.a)(e.state.messages),n=new RegExp(e.state.searchTerm,\"gi\"),a=t.reduce((function(e,t){return(t.content&&t.content.match(n)||t.user.name.match(n))&&e.push(t),e}),[]);e.setState({searchResults:a}),setTimeout((function(){return e.setState({searchLoading:!1})}),1e3)},e.countUniqueUsers=function(t){var n=t.reduce((function(e,t){return e.includes(t.user.name)||e.push(t.user.name),e}),[]),a=n.length>1||0===n.length,s=\"\".concat(n.length,\" user\").concat(a?\"s\":\"\");e.setState({numUniqueUsers:s})},e.countUserPosts=function(t){var n=t.reduce((function(e,t){return t.user.name in e?e[t.user.name].count+=1:e[t.user.name]={avatar:t.user.avatar,count:1},e}),{});e.props.setUserPosts(n)},e.displayMessages=function(t){return t.length>0&&t.map((function(t){return Object(N.jsx)(fe,{message:t,user:e.state.user},t.timestamp)}))},e.displayChannelName=function(t){return t?\"\".concat(e.state.privateChannel?\"@\":\"#\").concat(t.name):\"\"},e.displayTypingUsers=function(e){return e.length>0&&e.map((function(e){return Object(N.jsxs)(\"div\",{style:{display:\"flex\",alignItems:\"center\",marginBottom:\"0.2em\"},children:[Object(N.jsxs)(\"span\",{className:\"user__typing\",children:[e.name,\" is typing\"]}),\" \",Object(N.jsx)(pe,{})]},e.id)}))},e.displayMessageSkeleton=function(e){e&&(i.a.Fragment,Object(W.a)(Array(10)).map((function(e,t){return Object(N.jsx)(me,{},t)})))},e}return Object(s.a)(n,[{key:\"componentDidMount\",value:function(){var e=this.state,t=e.channel,n=e.user,a=e.listeners;t&&n&&(this.removeListeners(a),this.addListeners(t.id),this.addUserStarsListener(t.id,n.uid))}},{key:\"componentWillUnmount\",value:function(){this.removeListeners(this.state.listeners),this.state.connectedRef.off()}},{key:\"componentDidUpdate\",value:function(e,t){this.messagesEnd&&this.scrollToBottom()}},{key:\"render\",value:function(){var e=this,t=this.state,n=t.messagesRef,a=t.messages,s=t.channel,r=t.user,o=t.numUniqueUsers,c=t.searchTerm,l=t.searchResults,d=t.searchLoading,u=t.privateChannel,h=t.isChannelStarred,j=t.typingUsers,f=t.messagesLoading;return Object(N.jsxs)(i.a.Fragment,{children:[Object(N.jsx)(ee,{channelName:this.displayChannelName(s),numUniqueUsers:o,handleSearchChange:this.handleSearchChange,searchLoading:d,isPrivateChannel:u,handleStar:this.handleStar,isChannelStarred:h}),Object(N.jsx)(U.a,{children:Object(N.jsxs)(Y.a.Group,{className:\"messages\",children:[this.displayMessageSkeleton(f),c?this.displayMessages(l):this.displayMessages(a),this.displayTypingUsers(j),Object(N.jsx)(\"div\",{ref:function(t){return e.messagesEnd=t}})]})}),Object(N.jsx)(le,{messagesRef:n,currentChannel:s,currentUser:r,isPrivateChannel:u,getMessagesRef:this.getMessagesRef})]})}}]),n}(i.a.Component),be=Object(h.b)(null,{setUserPosts:function(e){return{type:v,payload:{userPosts:e}}}})(ge),ve=n(306),Oe=n(560),Ce=n(561),ye=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={channel:e.props.currentChannel,privateChannel:e.props.isPrivateChannel,activeIndex:0},e.setActiveIndex=function(t,n){var a=n.index,s=e.state.activeIndex===a?-1:a;e.setState({activeIndex:s})},e.formatCount=function(e){return\"\".concat(e,e>1||0===e?\" posts\":\" post\")},e.displayTopPosters=function(t){return Object.entries(t).sort((function(e,t){return t[1]-e[1]})).map((function(t,n){var a=Object(ve.a)(t,2),s=a[0],r=a[1];return Object(N.jsxs)(Oe.a.Item,{children:[Object(N.jsx)(D.a,{avatar:!0,src:r.avatar}),Object(N.jsxs)(Oe.a.Content,{children:[Object(N.jsx)(Oe.a.Header,{as:\"a\",children:s}),Object(N.jsx)(Oe.a.Description,{as:\"a\",children:e.formatCount(r.count)})]})]},n)})).slice(0,5)},e}return Object(s.a)(n,[{key:\"render\",value:function(){var e=this.state,t=e.activeIndex,n=e.privateChannel,a=e.channel,s=this.props.userPosts;return n?null:Object(N.jsxs)(U.a,{loading:!a,children:[Object(N.jsxs)(_.a,{as:\"h3\",attached:\"top\",children:[\"About # \",a&&a.name]}),Object(N.jsxs)(Ce.a,{styled:!0,attached:\"true\",children:[Object(N.jsxs)(Ce.a.Title,{active:0===t,index:0,onClick:this.setActiveIndex,children:[Object(N.jsx)(L.a,{name:\"dropdown\"}),Object(N.jsx)(L.a,{name:\"info\"}),\"Channel Details\"]}),Object(N.jsx)(Ce.a.Content,{active:0===t,children:a&&a.details}),Object(N.jsxs)(Ce.a.Title,{active:1===t,index:1,onClick:this.setActiveIndex,children:[Object(N.jsx)(L.a,{name:\"dropdown\"}),Object(N.jsx)(L.a,{name:\"user circle\"}),\"Top Posters\"]}),Object(N.jsx)(Ce.a.Content,{active:1===t,children:Object(N.jsx)(Oe.a,{children:s&&this.displayTopPosters(s)})}),Object(N.jsxs)(Ce.a.Title,{active:2===t,index:2,onClick:this.setActiveIndex,children:[Object(N.jsx)(L.a,{name:\"dropdown\"}),Object(N.jsx)(L.a,{name:\"pencil alternate\"}),\"Created By\"]}),Object(N.jsx)(Ce.a.Content,{active:2===t,children:Object(N.jsxs)(_.a,{as:\"h3\",children:[Object(N.jsx)(D.a,{circular:!0,src:a&&a.createdBy.avatar}),a&&a.createdBy.name]})})]})]})}}]),n}(i.a.Component),xe=Object(h.b)((function(e){return{currentUser:e.user.currentUser,currentChannel:e.channel.currentChannel,isPrivateChannel:e.channel.isPrivateChannel,userPosts:e.channel.userPosts,primaryColor:e.colors.primaryColor,secondaryColor:e.colors.secondaryColor}}))((function(e){var t=e.currentUser,n=e.currentChannel,a=e.isPrivateChannel,s=e.userPosts,r=e.primaryColor,o=e.secondaryColor;return Object(N.jsxs)(u.a,{columns:\"equal\",className:\"app\",style:{background:o},children:[Object(N.jsx)(I,{currentUser:t},t&&t.name),Object(N.jsx)($,{currentUser:t,primaryColor:r},t&&t.uid),Object(N.jsx)(u.a.Column,{style:{marginLeft:320},children:Object(N.jsx)(be,{currentChannel:n,currentUser:t,isPrivateChannel:a},n&&n.id)}),Object(N.jsx)(u.a.Column,{width:4,children:Object(N.jsx)(ye,{userPosts:s,currentChannel:n,isPrivateChannel:a},n&&n.name)})]})})),Se=n(562),ke=n(553),Re=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={email:\"\",password:\"\",errors:[],loading:!1},e.displayErrors=function(e){return e.map((function(e,t){return Object(N.jsx)(\"p\",{children:e.message},t)}))},e.handleChange=function(t){e.setState(Object(V.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.isFormValid(e.state)&&(e.setState({errors:[],loading:!0}),f.auth().signInWithEmailAndPassword(e.state.email,e.state.password).then((function(e){console.log(e)})).catch((function(t){console.error(t),e.setState({errors:e.state.errors.concat(t),loading:!1})})))},e.isFormValid=function(e){var t=e.email,n=e.password;return t&&n},e.handleInputError=function(e,t){return e.some((function(e){return e.message.toLowerCase().includes(t)}))?\"error\":\"\"},e}return Object(s.a)(n,[{key:\"render\",value:function(){var e=this.state,t=e.email,n=e.password,a=e.errors,s=e.loading;return Object(N.jsx)(u.a,{textAlign:\"center\",verticalAlign:\"middle\",className:\"app\",children:Object(N.jsxs)(u.a.Column,{style:{maxWidth:450},children:[Object(N.jsxs)(_.a,{as:\"h1\",icon:!0,color:\"violet\",textAlign:\"center\",children:[Object(N.jsx)(L.a,{name:\"code branch\",color:\"violet\"}),\"Login to HelpingHand\"]}),Object(N.jsx)(H.a,{onSubmit:this.handleSubmit,size:\"large\",children:Object(N.jsxs)(U.a,{stacked:!0,children:[Object(N.jsx)(H.a.Input,{fluid:!0,name:\"email\",icon:\"mail\",iconPosition:\"left\",placeholder:\"Email Address\",onChange:this.handleChange,value:t,className:this.handleInputError(a,\"email\"),type:\"email\"}),Object(N.jsx)(H.a.Input,{fluid:!0,name:\"password\",icon:\"lock\",iconPosition:\"left\",placeholder:\"Password\",onChange:this.handleChange,value:n,className:this.handleInputError(a,\"password\"),type:\"password\"}),Object(N.jsx)(R.a,{disabled:s,className:s?\"loading\":\"\",color:\"violet\",fluid:!0,size:\"large\",children:\"Submit\"})]})}),a.length>0&&Object(N.jsxs)(Se.a,{error:!0,children:[Object(N.jsx)(\"h3\",{children:\"Error\"}),this.displayErrors(a)]}),Object(N.jsxs)(Se.a,{children:[\"Don't have an account? \",Object(N.jsx)(ke.a,{to:\"/register\",children:\"Register\"})]})]})})}}]),n}(i.a.Component),we=n(302),Ue=n.n(we),Pe=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={username:\"\",email:\"\",password:\"\",passwordConfirmation:\"\",errors:[],loading:!1,usersRef:f.database().ref(\"users\")},e.isFormValid=function(){var t,n=[];return e.isFormEmpty(e.state)?(t={message:\"Fill in all fields\"},e.setState({errors:n.concat(t)}),!1):!!e.isPasswordValid(e.state)||(t={message:\"Password is invalid\"},e.setState({errors:n.concat(t)}),!1)},e.isFormEmpty=function(e){var t=e.username,n=e.email,a=e.password,s=e.passwordConfirmation;return!t.length||!n.length||!a.length||!s.length},e.isPasswordValid=function(e){var t=e.password,n=e.passwordConfirmation;return!(t.length<6||n.length<6)&&t===n},e.displayErrors=function(e){return e.map((function(e,t){return Object(N.jsx)(\"p\",{children:e.message},t)}))},e.handleChange=function(t){e.setState(Object(V.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.isFormValid()&&(e.setState({errors:[],loading:!0}),f.auth().createUserWithEmailAndPassword(e.state.email,e.state.password).then((function(t){console.log(t),t.user.updateProfile({displayName:e.state.username,photoURL:\"http://gravatar.com/avatar/\".concat(Ue()(t.user.email),\"?d=identicon\")}).then((function(){e.saveUser(t).then((function(){console.log(\"user saved\")}))})).catch((function(t){console.error(t),e.setState({errors:e.state.errors.concat(t),loading:!1})}))})).catch((function(t){console.error(t),e.setState({errors:e.state.errors.concat(t),loading:!1})})))},e.saveUser=function(t){return e.state.usersRef.child(t.user.uid).set({name:t.user.displayName,avatar:t.user.photoURL})},e.handleInputError=function(e,t){return e.some((function(e){return e.message.toLowerCase().includes(t)}))?\"error\":\"\"},e}return Object(s.a)(n,[{key:\"render\",value:function(){var e=this.state,t=e.username,n=e.email,a=e.password,s=e.passwordConfirmation,r=e.errors,o=e.loading;return Object(N.jsx)(u.a,{textAlign:\"center\",verticalAlign:\"middle\",className:\"app\",children:Object(N.jsxs)(u.a.Column,{style:{maxWidth:450},children:[Object(N.jsxs)(_.a,{as:\"h1\",icon:!0,color:\"orange\",textAlign:\"center\",children:[Object(N.jsx)(L.a,{name:\"puzzle piece\",color:\"orange\"}),\"Register for HelpingHand\"]}),Object(N.jsx)(H.a,{onSubmit:this.handleSubmit,size:\"large\",children:Object(N.jsxs)(U.a,{stacked:!0,children:[Object(N.jsx)(H.a.Input,{fluid:!0,name:\"username\",icon:\"user\",iconPosition:\"left\",placeholder:\"Username\",onChange:this.handleChange,value:t,type:\"text\"}),Object(N.jsx)(H.a.Input,{fluid:!0,name:\"email\",icon:\"mail\",iconPosition:\"left\",placeholder:\"Email Address\",onChange:this.handleChange,value:n,className:this.handleInputError(r,\"email\"),type:\"email\"}),Object(N.jsx)(H.a.Input,{fluid:!0,name:\"password\",icon:\"lock\",iconPosition:\"left\",placeholder:\"Password\",onChange:this.handleChange,value:a,className:this.handleInputError(r,\"password\"),type:\"password\"}),Object(N.jsx)(H.a.Input,{fluid:!0,name:\"passwordConfirmation\",icon:\"repeat\",iconPosition:\"left\",placeholder:\"Password Confirmation\",onChange:this.handleChange,value:s,className:this.handleInputError(r,\"password\"),type:\"password\"}),Object(N.jsx)(R.a,{disabled:o,className:o?\"loading\":\"\",color:\"orange\",fluid:!0,size:\"large\",children:\"Submit\"})]})}),r.length>0&&Object(N.jsxs)(Se.a,{error:!0,children:[Object(N.jsx)(\"h3\",{children:\"Error\"}),this.displayErrors(r)]}),Object(N.jsxs)(Se.a,{children:[\"Already a user? \",Object(N.jsx)(ke.a,{to:\"/login\",children:\"Login\"})]})]})})}}]),n}(i.a.Component),Le=n(566),Ae=n(554),Ne=function(){return Object(N.jsx)(Le.a,{active:!0,children:Object(N.jsx)(Ae.a,{size:\"huge\",content:\"Preparing Chat...\"})})},Me=Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ie(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){\"installed\"===t.state&&(navigator.serviceWorker.controller?console.log(\"New content is available; please refresh.\"):console.log(\"Content is cached for offline use.\"))}}})).catch((function(e){console.error(\"Error during service worker registration:\",e)}))}n(536);var Te=n(569),Ee=n(555),_e=n(570),Fe=n(564),De=n(66),ze=n(303),Be={currentUser:null,isLoading:!0,userPosts:null},We={currentChannel:null,isPrivateChannel:!1},Ve={primaryColor:\"#4c3c4c\",secondaryColor:\"#eee\"},He=Object(De.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return{currentUser:t.payload.currentUser,isLoading:!1};case m:return Object(Q.a)(Object(Q.a)({},e),{},{isLoading:!1});default:return e}},channel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(Q.a)(Object(Q.a)({},e),{},{currentChannel:t.payload.currentChannel});case b:return Object(Q.a)(Object(Q.a)({},e),{},{isPrivateChannel:t.payload.isPrivateChannel});case v:return Object(Q.a)(Object(Q.a)({},e),{},{userPosts:t.payload.userPosts});default:return e}},colors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return{primaryColor:t.payload.primaryColor,secondaryColor:t.payload.secondaryColor};default:return e}}}),qe=Object(De.createStore)(He,Object(ze.composeWithDevTools)()),Ke=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:\"componentDidMount\",value:function(){var e=this;f.auth().onAuthStateChanged((function(t){t?(e.props.setUser(t),e.props.history.push(\"/\")):(e.props.history.push(\"/login\"),e.props.clearUser())}))}},{key:\"render\",value:function(){return this.props.isLoading?Object(N.jsx)(Ne,{}):Object(N.jsxs)(Te.a,{children:[Object(N.jsx)(Ee.a,{exact:!0,path:\"/\",component:xe}),Object(N.jsx)(Ee.a,{path:\"/login\",component:Re}),Object(N.jsx)(Ee.a,{path:\"/register\",component:Pe})]})}}]),n}(i.a.Component),Ge=Object(_e.a)(Object(h.b)((function(e){return{isLoading:e.user.isLoading}}),{setUser:function(e){return{type:p,payload:{currentUser:e}}},clearUser:function(){return{type:m}}})(Ke));d.a.render(Object(N.jsx)(h.a,{store:qe,children:Object(N.jsx)(Fe.a,{children:Object(N.jsx)(Ge,{})})}),document.getElementById(\"root\")),function(){if(\"serviceWorker\"in navigator){if(new URL(\"\",window.location).origin!==window.location.origin)return;window.addEventListener(\"load\",(function(){var e=\"\".concat(\"\",\"/service-worker.js\");Me?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get(\"content-type\").indexOf(\"javascript\")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ie(e)})).catch((function(){console.log(\"No internet connection found. App is running in offline mode.\")}))}(e),navigator.serviceWorker.ready.then((function(){console.log(\"This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ\")}))):Ie(e)}))}}()}},[[538,1,2]]]);","name":"static/js/main.fcf89126.chunk.js","map":{"version":3,"sources":["static/js/main.fcf89126.chunk.js"],"names":["this","push","320","module","exports","__webpack_require__","538","__webpack_exports__","r","classCallCheck","createClass","inherits","createSuper","react","react_default","n","react_dom","react_dom_default","Grid","es","index_esm","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebase","SET_USER","CLEAR_USER","SET_CURRENT_CHANNEL","SET_PRIVATE_CHANNEL","SET_PRIVATE_POSTS","SET_COLORS","actions_setCurrentChannel","channel","type","payload","currentChannel","actions_setPrivateChannel","isPrivateChannel","Divider","Sidebar","Menu","Button","Modal","Segment","Label","Icon","react_color_es","jsx_runtime","ColorPanel_ColorPanel","_React$Component","Object","ColorPanel","_super","_this","_len","arguments","length","args","Array","_key","call","apply","concat","state","modal","primary","secondary","user","props","currentUser","usersRef","database","ref","userColors","removeListeners","child","uid","off","addListener","userId","on","snap","unshift","val","setState","handleChangePrimary","color","hex","handleChangeSecondary","handleSaveColors","saveColors","update","then","console","log","closeModal","catch","err","error","displayUserColors","colors","map","i","a","Fragment","children","className","onClick","setColors","style","background","openModal","key","value","_this$state","as","icon","inverted","vertical","visible","width","size","basic","open","onClose","Header","Content","content","onChange","Actions","name","Component","components_ColorPanel_ColorPanel","primaryColor","secondaryColor","dist","dist_default","Dropdown","Image","Input","SidePanel_UserPanel","UserPanel","previewImage","croppedImage","blob","uploadedCroppedImage","storageRef","storage","userRef","auth","metadata","contentType","dropdownOptions","text","displayName","disabled","handleSignout","uploadCroppedImage","put","getDownloadURL","downloadURL","changeAvatar","updateProfile","photoURL","avatar","handleChange","event","file","target","files","reader","FileReader","readAsDataURL","addEventListener","result","handleCropImage","avatarEditor","getImageScaledToCanvas","toBlob","imageUrl","URL","createObjectURL","signOut","_this2","_this$state2","Column","Row","padding","margin","floated","trigger","src","spaced","options","fluid","label","centered","stackable","columns","node","image","height","border","scale","toConsumableArray","defineProperty","Form","Channels_Channels","Channels","activeChannel","channels","channelName","channelDetails","channelsRef","messagesRef","typingRef","notifications","firstLoad","addListeners","loadedChannels","setFirstChannel","addNotificationListener","channelId","handleNotifications","id","currentChannelId","lastTotal","index","findIndex","notification","total","numChildren","count","lastKnownTotal","forEach","firstChannel","setCurrentChannel","setActiveChannel","addChannel","newChannel","details","createdBy","handleSubmit","preventDefault","isFormValid","changeChannel","remove","clearNotifications","setPrivateChannel","updatedNotifications","getNotificationCount","displayChannels","Item","opacity","active","_ref","onSubmit","Field","SidePanel_Channels","DirectMessages_DirectMessages","DirectMessages","users","connectedRef","presenceRef","currentUserUid","loadedUsers","set","onDisconnect","addStatusToUser","connected","undefined","updatedUsers","reduce","acc","isUserOnline","status","channelData","getChannelId","currentUserId","fontStyle","SidePanel_DirectMessages","objectSpread2","Starred_Starred","Starred","starredChannels","removeListener","starredChannel","channelToRemove","filteredChannels","filter","SidePanel_Starred","components_SidePanel_SidePanel","SidePanel","_this$props","fixed","fontSize","Comment","Messages_MessagesHeader","MessagesHeader","numUniqueUsers","handleSearchChange","searchLoading","handleStar","isChannelStarred","clearing","marginBottom","Subheader","loading","placeholder","v4","v4_default","dist_es","mime_types","mime_types_default","Messages_FileModal","FileModal","authorized","addFile","sendFile","uploadFile","isAuthorized","lookup","clearFile","filename","includes","_this$props2","Progress","Messages_ProgressBar","uploadState","percentUploaded","percent","progress","indicating","Messages_MessageForm","MessageForm","uploadTask","message","errors","emojiPicker","handleKeyDown","keyCode","sendMessage","handleTogglePicker","handleAddEmoji","emoji","oldMessage","newMessage","colonToUnicode","colons","setTimeout","messageInputRef","focus","replace","x","emojis","unicode","native","createMessage","fileUrl","timestamp","ServerValue","TIMESTAMP","getMessagesRef","getPath","pathToUpload","filePath","Math","round","bytesTransferred","totalBytes","snapshot","downloadUrl","sendFileMessage","cancel","_this$state3","onSelect","title","onKeyDown","labelPosition","some","Group","widths","moment","moment_default","isOwnMessage","isImage","hasOwnProperty","Messages_Message","Avatar","Author","Metadata","fromNow","Text","Messages_Typing","skeleton","Messages_Messages","Messages","privateChannel","privateMessagesRef","messages","messagesLoading","searchTerm","searchResults","typingUsers","listeners","addToListeners","listener","newListener","scrollToBottom","messagesEnd","scrollIntoView","behaviour","addMessageListener","addTypingListeners","loadedMessages","countUniqueUsers","countUserPosts","addUserStarsListener","once","data","prevStarred","keys","prevState","starChannel","handleSearchMessages","channelMessages","regex","RegExp","match","uniqueUsers","plural","userPosts","setUserPosts","displayMessages","displayChannelName","displayTypingUsers","display","alignItems","displayMessageSkeleton","_","prevProps","components_Messages_Messages","slicedToArray","List","Accordion","components_MetaPanel_MetaPanel","MetaPanel","activeIndex","setActiveIndex","titleProps","newIndex","formatCount","num","displayTopPosters","posts","entries","sort","b","_ref2","Description","slice","attached","styled","Title","circular","src_components_App","marginLeft","collections_Message_Message","Link","Auth_Login","Login","email","password","displayErrors","signInWithEmailAndPassword","signedInUser","handleInputError","inputName","toLowerCase","textAlign","verticalAlign","maxWidth","stacked","iconPosition","to","md5","md5_default","Auth_Register","Register","username","passwordConfirmation","isFormEmpty","isPasswordValid","createUserWithEmailAndPassword","createdUser","saveUser","Dimmer","Loader","src_Spinner","isLocalhost","Boolean","window","location","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","Switch","Route","withRouter","BrowserRouter","redux","redux_devtools_extension","initialUserState","isLoading","initialChannelState","InitialColorsState","reducers","action","store","src_Root","Root","onAuthStateChanged","setUser","history","clearUser","exact","path","component","RootWithAuth","render","document","getElementById","origin","fetch","response","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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"},"input":"(this[\"webpackJsonpreact-slack-clone\"] = this[\"webpackJsonpreact-slack-clone\"] || []).push([[0],{\n\n/***/ 320:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 538:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(21);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js + 1 modules\nvar inherits = __webpack_require__(24);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js + 5 modules\nvar createSuper = __webpack_require__(23);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(78);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/collections/Grid/Grid.js + 2 modules\nvar Grid = __webpack_require__(567);\n\n// EXTERNAL MODULE: ./src/components/App.css\nvar components_App = __webpack_require__(320);\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 20 modules\nvar es = __webpack_require__(35);\n\n// EXTERNAL MODULE: ./node_modules/firebase/app/dist/index.esm.js\nvar index_esm = __webpack_require__(180);\n\n// EXTERNAL MODULE: ./node_modules/firebase/auth/dist/index.esm.js\nvar dist_index_esm = __webpack_require__(324);\n\n// EXTERNAL MODULE: ./node_modules/firebase/database/dist/index.esm.js\nvar database_dist_index_esm = __webpack_require__(326);\n\n// EXTERNAL MODULE: ./node_modules/firebase/storage/dist/index.esm.js + 2 modules\nvar storage_dist_index_esm = __webpack_require__(539);\n\n// CONCATENATED MODULE: ./src/firebase.js\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nvar firebaseConfig={apiKey:\"AIzaSyCeo-LVX4VJ-AleJN2O3oTu1Ia22hbNlo0\",authDomain:\"react-slack-clone-by-biraj.firebaseapp.com\",projectId:\"react-slack-clone-by-biraj\",storageBucket:\"react-slack-clone-by-biraj.appspot.com\",messagingSenderId:\"877501910791\",appId:\"1:877501910791:web:f207ae35ac1965ca93ffa2\",measurementId:\"G-VS1R5591KM\"};// Initialize Firebase\nindex_esm[\"a\" /* default */].initializeApp(firebaseConfig);/* harmony default export */ var firebase = (index_esm[\"a\" /* default */]);\n// CONCATENATED MODULE: ./src/actions/types.js\n/* User Action Types */var SET_USER=\"SET_USER\";var CLEAR_USER=\"CLEAR_USER\";/* Channel Action Types */var SET_CURRENT_CHANNEL=\"SET_CURRENT_CHANNEL\";var SET_PRIVATE_CHANNEL=\"SET_PRIVATE_CHANNEL\";var SET_PRIVATE_POSTS=\"SET_USER_POSTS\";/* Colors Action Types */var SET_COLORS=\"SET_COLORS\";\n// CONCATENATED MODULE: ./src/actions/index.js\n/* User Actions */var actions_setUser=function setUser(user){return{type:SET_USER,payload:{currentUser:user}};};var actions_clearUser=function clearUser(){return{type:CLEAR_USER};};/* Channel Actions */var actions_setCurrentChannel=function setCurrentChannel(channel){return{type:SET_CURRENT_CHANNEL,payload:{currentChannel:channel}};};var actions_setPrivateChannel=function setPrivateChannel(isPrivateChannel){return{type:SET_PRIVATE_CHANNEL,payload:{isPrivateChannel:isPrivateChannel}};};var actions_setUserPosts=function setUserPosts(userPosts){return{type:SET_PRIVATE_POSTS,payload:{userPosts:userPosts}};};/ * Colors Action * /;var actions_setColors=function setColors(primaryColor,secondaryColor){return{type:SET_COLORS,payload:{primaryColor:primaryColor,secondaryColor:secondaryColor}};};\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Divider/Divider.js\nvar Divider = __webpack_require__(549);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/modules/Sidebar/Sidebar.js + 2 modules\nvar Sidebar = __webpack_require__(565);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/collections/Menu/Menu.js + 3 modules\nvar Menu = __webpack_require__(563);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Button/Button.js + 3 modules\nvar Button = __webpack_require__(540);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/modules/Modal/Modal.js + 10 modules\nvar Modal = __webpack_require__(557);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Segment/Segment.js + 1 modules\nvar Segment = __webpack_require__(572);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Label/Label.js + 2 modules\nvar Label = __webpack_require__(96);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Icon/Icon.js + 1 modules\nvar Icon = __webpack_require__(50);\n\n// EXTERNAL MODULE: ./node_modules/react-color/es/index.js + 211 modules\nvar react_color_es = __webpack_require__(186);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(5);\n\n// CONCATENATED MODULE: ./src/components/ColorPanel/ColorPanel.js\n// prettier-ignore\nvar ColorPanel_ColorPanel=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(ColorPanel,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(ColorPanel);function ColorPanel(){var _this;Object(classCallCheck[\"a\" /* default */])(this,ColorPanel);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={modal:false,primary:\"\",secondary:\"\",user:_this.props.currentUser,usersRef:firebase.database().ref(\"users\"),userColors:[]};_this.removeListeners=function(){_this.state.usersRef.child(\"\".concat(_this.state.user.uid,\"/colors\")).off();};_this.addListener=function(userId){var userColors=[];_this.state.usersRef.child(\"\".concat(userId,\"/colors\")).on(\"child_added\",function(snap){userColors.unshift(snap.val());_this.setState({userColors:userColors});});};_this.handleChangePrimary=function(color){return _this.setState({primary:color.hex});};_this.handleChangeSecondary=function(color){return _this.setState({secondary:color.hex});};_this.handleSaveColors=function(){if(_this.state.primary&&_this.state.secondary){_this.saveColors(_this.state.primary,_this.state.secondary);}};_this.saveColors=function(primary,secondary){_this.state.usersRef.child(\"\".concat(_this.state.user.uid,\"/colors\")).push().update({primary:primary,secondary:secondary}).then(function(){console.log(\"Colors added\");_this.closeModal();}).catch(function(err){return console.error(err);});};_this.displayUserColors=function(colors){return colors.length>0&&colors.map(function(color,i){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_default.a.Fragment,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Divider[\"a\" /* default */],{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"color__container\",onClick:function onClick(){return _this.props.setColors(color.primary,color.secondary);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"color__square\",style:{background:color.primary},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"color__overlay\",style:{background:color.secondary}})})})]},i);});};_this.openModal=function(){return _this.setState({modal:true});};_this.closeModal=function(){return _this.setState({modal:false});};return _this;}Object(createClass[\"a\" /* default */])(ColorPanel,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.state.user){this.addListener(this.state.user.uid);}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.removeListeners();}},{key:\"render\",value:function render(){var _this$state=this.state,modal=_this$state.modal,primary=_this$state.primary,secondary=_this$state.secondary,userColors=_this$state.userColors;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Sidebar[\"a\" /* default */],{as:Menu[\"a\" /* default */],icon:\"labeled\",inverted:true,vertical:true,visible:true,width:\"very thin\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Divider[\"a\" /* default */],{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{icon:\"add\",size:\"small\",color:\"blue\",onClick:this.openModal}),this.displayUserColors(userColors),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */],{basic:true,open:modal,onClose:this.closeModal,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Header,{children:\"Choose App Colors\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */].Content,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Segment[\"a\" /* default */],{inverted:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Label[\"a\" /* default */],{content:\"Primary Color\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_color_es[\"a\" /* SliderPicker */],{color:primary,onChange:this.handleChangePrimary})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Segment[\"a\" /* default */],{inverted:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Label[\"a\" /* default */],{content:\"Secondary Color\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_color_es[\"a\" /* SliderPicker */],{color:secondary,onChange:this.handleChangeSecondary})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */].Actions,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button[\"a\" /* default */],{color:\"green\",inverted:true,onClick:this.handleSaveColors,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"checkmark\"}),\" Save Colors\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button[\"a\" /* default */],{color:\"red\",inverted:true,onClick:this.closeModal,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"remove\"}),\" Cancel\"]})]})]})]});}}]);return ColorPanel;}(react_default.a.Component);/* harmony default export */ var components_ColorPanel_ColorPanel = (Object(es[\"b\" /* connect */])(null,{setColors:actions_setColors})(ColorPanel_ColorPanel));\n// EXTERNAL MODULE: ./node_modules/react-avatar-editor/dist/index.js\nvar dist = __webpack_require__(287);\nvar dist_default = /*#__PURE__*/__webpack_require__.n(dist);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Header/Header.js + 2 modules\nvar Header = __webpack_require__(568);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/modules/Dropdown/Dropdown.js + 6 modules\nvar Dropdown = __webpack_require__(559);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Image/Image.js + 1 modules\nvar Image = __webpack_require__(307);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Input/Input.js\nvar Input = __webpack_require__(551);\n\n// CONCATENATED MODULE: ./src/components/SidePanel/UserPanel.js\n// prettier-ignore\nvar UserPanel_UserPanel=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(UserPanel,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(UserPanel);function UserPanel(){var _this;Object(classCallCheck[\"a\" /* default */])(this,UserPanel);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={user:_this.props.currentUser,modal:false,previewImage:\"\",croppedImage:\"\",blob:null,uploadedCroppedImage:\"\",storageRef:firebase.storage().ref(),userRef:firebase.auth().currentUser,usersRef:firebase.database().ref(\"users\"),metadata:{contentType:\"image/jpeg\"}};_this.openModal=function(){return _this.setState({modal:true});};_this.closeModal=function(){return _this.setState({modal:false});};_this.dropdownOptions=function(){return[{key:\"user\",text:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[\"Signed in as \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"strong\",{children:_this.state.user.displayName})]}),disabled:true},{key:\"avatar\",text:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{onClick:_this.openModal,children:\"Change Avatar\"})},{key:\"signout\",text:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{onClick:_this.handleSignout,children:\"Sign Out\"})}];};_this.uploadCroppedImage=function(){var _this$state=_this.state,storageRef=_this$state.storageRef,userRef=_this$state.userRef,blob=_this$state.blob,metadata=_this$state.metadata;storageRef.child(\"avatars/users/\".concat(userRef.uid)).put(blob,metadata).then(function(snap){snap.ref.getDownloadURL().then(function(downloadURL){_this.setState({uploadedCroppedImage:downloadURL},function(){return _this.changeAvatar();});});});};_this.changeAvatar=function(){_this.state.userRef.updateProfile({photoURL:_this.state.uploadedCroppedImage}).then(function(){console.log(\"PhotoURL updated\");_this.closeModal();}).catch(function(err){console.error(err);});_this.state.usersRef.child(_this.state.user.uid).update({avatar:_this.state.uploadedCroppedImage}).then(function(){console.log(\"User avatar updated\");}).catch(function(err){console.error(err);});};_this.handleChange=function(event){var file=event.target.files[0];var reader=new FileReader();if(file){reader.readAsDataURL(file);reader.addEventListener(\"load\",function(){_this.setState({previewImage:reader.result});});}};_this.handleCropImage=function(){if(_this.avatarEditor){_this.avatarEditor.getImageScaledToCanvas().toBlob(function(blob){var imageUrl=URL.createObjectURL(blob);_this.setState({croppedImage:imageUrl,blob:blob});});}};_this.handleSignout=function(){firebase.auth().signOut().then(function(){return console.log(\"signed out!\");});};return _this;}Object(createClass[\"a\" /* default */])(UserPanel,[{key:\"render\",value:function render(){var _this2=this;var _this$state2=this.state,user=_this$state2.user,modal=_this$state2.modal,previewImage=_this$state2.previewImage,croppedImage=_this$state2.croppedImage;var primaryColor=this.props.primaryColor;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{style:{background:primaryColor},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */].Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */].Row,{style:{padding:\"1.2em\",margin:0},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Header[\"a\" /* default */],{inverted:true,floated:\"left\",as:\"h2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"code\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Header[\"a\" /* default */].Content,{children:\"Chat\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Header[\"a\" /* default */],{style:{padding:\"0.25em\"},as:\"h4\",inverted:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dropdown[\"a\" /* default */],{trigger:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Image[\"a\" /* default */],{src:user.photoURL,spaced:\"right\",avatar:true}),user.displayName]}),options:this.dropdownOptions()})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */],{basic:true,open:modal,onClose:this.closeModal,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Header,{children:\"Change Avatar\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */].Content,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input[\"a\" /* default */],{onChange:this.handleChange,fluid:true,type:\"file\",label:\"New Avatar\",name:\"previewImage\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{centered:true,stackable:true,columns:2,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */].Row,{centered:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */].Column,{className:\"ui center aligned grid\",children:previewImage&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist_default.a,{ref:function ref(node){return _this2.avatarEditor=node;},image:previewImage,width:120,height:120,border:50,scale:1.2})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */].Column,{children:croppedImage&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Image[\"a\" /* default */],{style:{margin:\"3.5em auto\"},width:100,height:100,src:croppedImage})})]})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */].Actions,{children:[croppedImage&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button[\"a\" /* default */],{color:\"green\",inverted:true,onClick:this.uploadCroppedImage,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"save\"}),\" Change Avatar\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button[\"a\" /* default */],{color:\"green\",inverted:true,onClick:this.handleCropImage,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"image\"}),\" Preview\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button[\"a\" /* default */],{color:\"red\",inverted:true,onClick:this.closeModal,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"remove\"}),\" Cancel\"]})]})]})]})});}}]);return UserPanel;}(react_default.a.Component);/* harmony default export */ var SidePanel_UserPanel = (UserPanel_UserPanel);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(68);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(40);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/collections/Form/Form.js + 13 modules\nvar Form = __webpack_require__(556);\n\n// CONCATENATED MODULE: ./src/components/SidePanel/Channels.js\nvar Channels_Channels=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(Channels,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(Channels);function Channels(){var _this;Object(classCallCheck[\"a\" /* default */])(this,Channels);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={activeChannel:\"\",user:_this.props.currentUser,channel:null,channels:[],channelName:\"\",channelDetails:\"\",channelsRef:firebase.database().ref(\"channels\"),messagesRef:firebase.database().ref(\"messages\"),typingRef:firebase.database().ref(\"typing\"),notifications:[],modal:false,firstLoad:true};_this.addListeners=function(){var loadedChannels=[];_this.state.channelsRef.on(\"child_added\",function(snap){loadedChannels.push(snap.val());_this.setState({channels:loadedChannels},function(){return _this.setFirstChannel();});_this.addNotificationListener(snap.key);});};_this.addNotificationListener=function(channelId){_this.state.messagesRef.child(channelId).on(\"value\",function(snap){if(_this.state.channel){_this.handleNotifications(channelId,_this.state.channel.id,_this.state.notifications,snap);}});};_this.handleNotifications=function(channelId,currentChannelId,notifications,snap){var lastTotal=0;var index=notifications.findIndex(function(notification){return notification.id===channelId;});if(index!==-1){if(channelId!==currentChannelId){lastTotal=notifications[index].total;if(snap.numChildren()-lastTotal>0){notifications[index].count=snap.numChildren()-lastTotal;}}notifications[index].lastKnownTotal=snap.numChildren();}else{notifications.push({id:channelId,total:snap.numChildren(),lastKnownTotal:snap.numChildren(),count:0});}_this.setState({notifications:notifications});};_this.removeListeners=function(){_this.state.channelsRef.off();_this.state.channel.forEach(function(channel){_this.state.messagesRef.child(channel.id).off();});};_this.setFirstChannel=function(){var firstChannel=_this.state.channels[0];if(_this.state.firstLoad&&_this.state.channels.length>0){_this.props.setCurrentChannel(firstChannel);_this.setActiveChannel(firstChannel);_this.setState({channel:firstChannel});}_this.setState({firstLoad:false});};_this.addChannel=function(){var _this$state=_this.state,channelsRef=_this$state.channelsRef,channelName=_this$state.channelName,channelDetails=_this$state.channelDetails,user=_this$state.user;var key=channelsRef.push().key;var newChannel={id:key,name:channelName,details:channelDetails,createdBy:{name:user.displayName,avatar:user.photoURL}};channelsRef.child(key).update(newChannel).then(function(){_this.setState({channelName:\"\",channelDetails:\"\"});_this.closeModal();console.log(\"channel added\");}).catch(function(err){console.error(err);});};_this.handleSubmit=function(event){event.preventDefault();if(_this.isFormValid(_this.state)){_this.addChannel();}};_this.handleChange=function(event){_this.setState(Object(defineProperty[\"a\" /* default */])({},event.target.name,event.target.value));};_this.changeChannel=function(channel){_this.setActiveChannel(channel);_this.state.typingRef.child(_this.state.channel.id).child(_this.state.user.uid).remove();_this.clearNotifications();_this.props.setCurrentChannel(channel);_this.props.setPrivateChannel(false);_this.setState({channel:channel});};_this.clearNotifications=function(){var index=_this.state.notifications.findIndex(function(notification){return notification.id===_this.state.channel.id;});if(index!==-1){var updatedNotifications=Object(toConsumableArray[\"a\" /* default */])(_this.state.notifications);updatedNotifications[index].total=_this.state.notifications[index].lastKnownTotal;updatedNotifications[index].count=0;_this.setState({notifications:updatedNotifications});}};_this.setActiveChannel=function(channel){_this.setState({activeChannel:channel.id});};_this.getNotificationCount=function(channel){var count=0;_this.state.notifications.forEach(function(notification){if(notification.id===channel.id){count=notification.count;}});if(count>0)return count;};_this.displayChannels=function(channels){return channels.length>0&&channels.map(function(channel){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Menu[\"a\" /* default */].Item,{onClick:function onClick(){return _this.changeChannel(channel);},name:channel.name,style:{opacity:0.7},active:channel.id===_this.state.activeChannel,children:[_this.getNotificationCount(channel)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Label[\"a\" /* default */],{color:\"red\",children:_this.getNotificationCount(channel)}),\"# \",channel.name]},channel.id);});};_this.isFormValid=function(_ref){var channelName=_ref.channelName,channelDetails=_ref.channelDetails;return channelName&&channelDetails;};_this.openModal=function(){return _this.setState({modal:true});};_this.closeModal=function(){return _this.setState({modal:false});};return _this;}Object(createClass[\"a\" /* default */])(Channels,[{key:\"componentDidMount\",value:function componentDidMount(){this.addListeners();}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.removeListeners();}},{key:\"render\",value:function render(){var _this$state2=this.state,channels=_this$state2.channels,modal=_this$state2.modal;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_default.a.Fragment,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Menu[\"a\" /* default */].Menu,{className:\"menu\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Menu[\"a\" /* default */].Item,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"exchange\"}),\" CHANNELS\"]}),\" \",\"(\",channels.length,\") \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"add\",onClick:this.openModal})]}),this.displayChannels(channels)]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */],{basic:true,open:modal,onClose:this.closeModal,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Header,{children:\"Add a Channel\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Content,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{onSubmit:this.handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Field,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input[\"a\" /* default */],{fluid:true,label:\"Name of Channel\",name:\"channelName\",onChange:this.handleChange})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Field,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input[\"a\" /* default */],{fluid:true,label:\"About the Channel\",name:\"channelDetails\",onChange:this.handleChange})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */].Actions,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button[\"a\" /* default */],{color:\"green\",inverted:true,onClick:this.handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"checkmark\"}),\" Add\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button[\"a\" /* default */],{color:\"red\",inverted:true,onClick:this.closeModal,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"remove\"}),\" Cancel\"]})]})]})]});}}]);return Channels;}(react_default.a.Component);/* harmony default export */ var SidePanel_Channels = (Object(es[\"b\" /* connect */])(null,{setCurrentChannel:actions_setCurrentChannel,setPrivateChannel:actions_setPrivateChannel})(Channels_Channels));\n// CONCATENATED MODULE: ./src/components/SidePanel/DirectMessages.js\nvar DirectMessages_DirectMessages=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(DirectMessages,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(DirectMessages);function DirectMessages(){var _this;Object(classCallCheck[\"a\" /* default */])(this,DirectMessages);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={activeChannel:\"\",user:_this.props.currentUser,users:[],usersRef:firebase.database().ref(\"users\"),connectedRef:firebase.database().ref(\".info/connected\"),presenceRef:firebase.database().ref(\"presence\")};_this.removeListeners=function(){_this.state.usersRef.off();_this.state.presenceRef.off();_this.state.connectedRef.off();};_this.addListeners=function(currentUserUid){var loadedUsers=[];_this.state.usersRef.on(\"child_added\",function(snap){if(currentUserUid!==snap.key){var user=snap.val();user[\"uid\"]=snap.key;user[\"status\"]=\"offline\";loadedUsers.push(user);_this.setState({users:loadedUsers});}});_this.state.connectedRef.on(\"value\",function(snap){if(snap.val()===true){var ref=_this.state.presenceRef.child(currentUserUid);ref.set(true);ref.onDisconnect().remove(function(err){if(err!==null){console.error(err);}});}});_this.state.presenceRef.on(\"child_added\",function(snap){if(currentUserUid!==snap.key){_this.addStatusToUser(snap.key);}});_this.state.presenceRef.on(\"child_removed\",function(snap){if(currentUserUid!==snap.key){_this.addStatusToUser(snap.key,false);}});};_this.addStatusToUser=function(userId){var connected=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var updatedUsers=_this.state.users.reduce(function(acc,user){if(user.uid===userId){user[\"status\"]=\"\".concat(connected?\"online\":\"offline\");}return acc.concat(user);},[]);_this.setState({users:updatedUsers});};_this.isUserOnline=function(user){return user.status===\"online\";};_this.changeChannel=function(user){var channelId=_this.getChannelId(user.uid);var channelData={id:channelId,name:user.name};_this.props.setCurrentChannel(channelData);_this.props.setPrivateChannel(true);_this.setActiveChannel(user.uid);};_this.getChannelId=function(userId){var currentUserId=_this.state.user.uid;return userId<currentUserId?\"\".concat(userId,\"/\").concat(currentUserId):\"\".concat(currentUserId,\"/\").concat(userId);};_this.setActiveChannel=function(userId){_this.setState({activeChannel:userId});};return _this;}Object(createClass[\"a\" /* default */])(DirectMessages,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.state.user){this.addListeners(this.state.user.uid);}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.removeListeners();}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,users=_this$state.users,activeChannel=_this$state.activeChannel;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Menu[\"a\" /* default */].Menu,{className:\"menu\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Menu[\"a\" /* default */].Item,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"mail\"}),\" DIRECT MESSAGES\"]}),\" \",\"(\",users.length,\")\"]}),users.map(function(user){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Menu[\"a\" /* default */].Item,{active:user.uid===activeChannel,onClick:function onClick(){return _this2.changeChannel(user);},style:{opacity:0.7,fontStyle:\"italic\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"circle\",color:_this2.isUserOnline(user)?\"green\":\"red\"}),\"@ \",user.name]},user.uid);})]});}}]);return DirectMessages;}(react_default.a.Component);/* harmony default export */ var SidePanel_DirectMessages = (Object(es[\"b\" /* connect */])(null,{setCurrentChannel:actions_setCurrentChannel,setPrivateChannel:actions_setPrivateChannel})(DirectMessages_DirectMessages));\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(42);\n\n// CONCATENATED MODULE: ./src/components/SidePanel/Starred.js\nvar Starred_Starred=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(Starred,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(Starred);function Starred(){var _this;Object(classCallCheck[\"a\" /* default */])(this,Starred);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={user:_this.props.currentUser,usersRef:firebase.database().ref(\"users\"),activeChannel:\"\",starredChannels:[]};_this.removeListener=function(){_this.state.usersRef.child(\"\".concat(_this.state.user.uid,\"/starred\")).off();};_this.addListeners=function(userId){_this.state.usersRef.child(userId).child(\"starred\").on(\"child_added\",function(snap){var starredChannel=Object(objectSpread2[\"a\" /* default */])({id:snap.key},snap.val());_this.setState({starredChannels:[].concat(Object(toConsumableArray[\"a\" /* default */])(_this.state.starredChannels),[starredChannel])});});_this.state.usersRef.child(userId).child(\"starred\").on(\"child_removed\",function(snap){var channelToRemove=Object(objectSpread2[\"a\" /* default */])({id:snap.key},snap.val());var filteredChannels=_this.state.starredChannels.filter(function(channel){return channel.id!==channelToRemove.id;});_this.setState({starredChannels:filteredChannels});});};_this.setActiveChannel=function(channel){_this.setState({activeChannel:channel.id});};_this.changeChannel=function(channel){_this.setActiveChannel(channel);_this.props.setCurrentChannel(channel);_this.props.setPrivateChannel(false);};_this.displayChannels=function(starredChannels){return starredChannels.length>0&&starredChannels.map(function(channel){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Menu[\"a\" /* default */].Item,{onClick:function onClick(){return _this.changeChannel(channel);},name:channel.name,style:{opacity:0.7},active:channel.id===_this.state.activeChannel,children:[\"# \",channel.name]},channel.id);});};return _this;}Object(createClass[\"a\" /* default */])(Starred,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.state.user){this.addListeners(this.state.user.uid);}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.removeListener();}},{key:\"render\",value:function render(){var _this$state=this.state,starredChannels=_this$state.starredChannels,modal=_this$state.modal;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Menu[\"a\" /* default */].Menu,{className:\"menu\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Menu[\"a\" /* default */].Item,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"star\"}),\" STARRED\"]}),\" \",\"(\",starredChannels.length,\")\"]}),this.displayChannels(starredChannels)]});}}]);return Starred;}(react_default.a.Component);/* harmony default export */ var SidePanel_Starred = (Object(es[\"b\" /* connect */])(null,{setCurrentChannel:actions_setCurrentChannel,setPrivateChannel:actions_setPrivateChannel})(Starred_Starred));\n// CONCATENATED MODULE: ./src/components/SidePanel/SidePanel.js\nvar SidePanel_SidePanel=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(SidePanel,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(SidePanel);function SidePanel(){Object(classCallCheck[\"a\" /* default */])(this,SidePanel);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(SidePanel,[{key:\"render\",value:function render(){var _this$props=this.props,currentUser=_this$props.currentUser,primaryColor=_this$props.primaryColor;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Menu[\"a\" /* default */],{size:\"large\",inverted:true,fixed:\"left\",vertical:true,style:{background:primaryColor,fontSize:\"1.2rem\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SidePanel_UserPanel,{primaryColor:primaryColor,currentUser:currentUser}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SidePanel_Starred,{currentUser:currentUser}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SidePanel_Channels,{currentUser:currentUser}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SidePanel_DirectMessages,{currentUser:currentUser})]});}}]);return SidePanel;}(react_default.a.Component);/* harmony default export */ var components_SidePanel_SidePanel = (SidePanel_SidePanel);\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/views/Comment/Comment.js + 8 modules\nvar Comment = __webpack_require__(558);\n\n// CONCATENATED MODULE: ./src/components/Messages/MessagesHeader.js\nvar MessagesHeader_MessagesHeader=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(MessagesHeader,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(MessagesHeader);function MessagesHeader(){Object(classCallCheck[\"a\" /* default */])(this,MessagesHeader);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(MessagesHeader,[{key:\"render\",value:function render(){var _this$props=this.props,channelName=_this$props.channelName,numUniqueUsers=_this$props.numUniqueUsers,handleSearchChange=_this$props.handleSearchChange,searchLoading=_this$props.searchLoading,isPrivateChannel=_this$props.isPrivateChannel,handleStar=_this$props.handleStar,isChannelStarred=_this$props.isChannelStarred;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Segment[\"a\" /* default */],{clearing:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Header[\"a\" /* default */],{fluid:\"true\",as:\"h2\",floated:\"left\",style:{marginBottom:0},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[channelName,!isPrivateChannel&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{onClick:handleStar,name:isChannelStarred?\"star\":\"star outline\",color:isChannelStarred?\"yellow\":\"black\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Header[\"a\" /* default */].Subheader,{children:numUniqueUsers})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Header[\"a\" /* default */],{floated:\"right\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input[\"a\" /* default */],{loading:searchLoading,onChange:handleSearchChange,size:\"mini\",icon:\"search\",name:\"searchTerm\",placeholder:\"Search Messages\"})})]});}}]);return MessagesHeader;}(react_default.a.Component);/* harmony default export */ var Messages_MessagesHeader = (MessagesHeader_MessagesHeader);\n// EXTERNAL MODULE: ./node_modules/uuid/v4.js\nvar v4 = __webpack_require__(296);\nvar v4_default = /*#__PURE__*/__webpack_require__.n(v4);\n\n// EXTERNAL MODULE: ./node_modules/emoji-mart/dist-es/index.js + 29 modules\nvar dist_es = __webpack_require__(187);\n\n// EXTERNAL MODULE: ./node_modules/emoji-mart/css/emoji-mart.css\nvar emoji_mart = __webpack_require__(529);\n\n// EXTERNAL MODULE: ./node_modules/mime-types/index.js\nvar mime_types = __webpack_require__(185);\nvar mime_types_default = /*#__PURE__*/__webpack_require__.n(mime_types);\n\n// CONCATENATED MODULE: ./src/components/Messages/FileModal.js\nvar FileModal_FileModal=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(FileModal,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(FileModal);function FileModal(){var _this;Object(classCallCheck[\"a\" /* default */])(this,FileModal);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={file:null,authorized:[\"image/jpeg\",\"image/png\"]};_this.addFile=function(event){var file=event.target.files[0];if(file){_this.setState({file:file});}};_this.sendFile=function(){var file=_this.state.file;var _this$props=_this.props,uploadFile=_this$props.uploadFile,closeModal=_this$props.closeModal;if(file!==null){if(_this.isAuthorized(file.name)){var metadata={contentType:mime_types_default.a.lookup(file.name)};uploadFile(file,metadata);closeModal();_this.clearFile();}}};_this.isAuthorized=function(filename){return _this.state.authorized.includes(mime_types_default.a.lookup(filename));};_this.clearFile=function(){return _this.setState({file:null});};return _this;}Object(createClass[\"a\" /* default */])(FileModal,[{key:\"render\",value:function render(){var _this$props2=this.props,modal=_this$props2.modal,closeModal=_this$props2.closeModal;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */],{basic:true,open:modal,onClose:closeModal,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Header,{children:\"Select an Image File\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Content,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input[\"a\" /* default */],{onChange:this.addFile,fluid:true,label:\"File types: jpg, png\",name:\"file\",type:\"file\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */].Actions,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button[\"a\" /* default */],{onClick:this.sendFile,color:\"green\",inverted:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"checkmark\"}),\" Send\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button[\"a\" /* default */],{color:\"red\",inverted:true,onClick:closeModal,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"remove\"}),\" Cancel\"]})]})]});}}]);return FileModal;}(react_default.a.Component);/* harmony default export */ var Messages_FileModal = (FileModal_FileModal);\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/modules/Progress/Progress.js\nvar Progress = __webpack_require__(552);\n\n// CONCATENATED MODULE: ./src/components/Messages/ProgressBar.js\nvar ProgressBar_ProgressBar=function ProgressBar(_ref){var uploadState=_ref.uploadState,percentUploaded=_ref.percentUploaded;return uploadState===\"uploading\"&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Progress[\"a\" /* default */],{className:\"progress__bar\",percent:percentUploaded,progress:true,indicating:true,size:\"medium\",inverted:true});};/* harmony default export */ var Messages_ProgressBar = (ProgressBar_ProgressBar);\n// CONCATENATED MODULE: ./src/components/Messages/MessageForm.js\nvar MessageForm_MessageForm=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(MessageForm,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(MessageForm);function MessageForm(){var _this;Object(classCallCheck[\"a\" /* default */])(this,MessageForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={storageRef:firebase.storage().ref(),typingRef:firebase.database().ref(\"typing\"),uploadTask:null,uploadState:\"\",percentUploaded:0,message:\"\",channel:_this.props.currentChannel,user:_this.props.currentUser,loading:false,errors:[],modal:false,emojiPicker:false};_this.openModal=function(){return _this.setState({modal:true});};_this.closeModal=function(){return _this.setState({modal:false});};_this.handleChange=function(event){_this.setState(Object(defineProperty[\"a\" /* default */])({},event.target.name,event.target.value));};_this.handleKeyDown=function(event){if(event.keyCode===13){_this.sendMessage();}var _this$state=_this.state,message=_this$state.message,typingRef=_this$state.typingRef,channel=_this$state.channel,user=_this$state.user;if(message){typingRef.child(channel.id).child(user.uid).set(user.displayName);}else{typingRef.child(channel.id).child(user.uid).remove();}};_this.handleTogglePicker=function(){_this.setState({emojiPicker:!_this.state.emojiPicker});};_this.handleAddEmoji=function(emoji){var oldMessage=_this.state.message;var newMessage=_this.colonToUnicode(\"\".concat(oldMessage,\" \").concat(emoji.colons));_this.setState({message:newMessage,emojiPicker:false});setTimeout(function(){return _this.messageInputRef.focus();},0);};_this.colonToUnicode=function(message){return message.replace(/:[A-Za-z0-9_+-]+:/g,function(x){x=x.replace(/:/g,\"\");var emoji=dist_es[\"b\" /* emojiIndex */].emojis[x];if(typeof emoji!==\"undefined\"){var unicode=emoji.native;if(typeof unicode!==\"undefined\"){return unicode;}}x=\":\"+x+\":\";});};_this.createMessage=function(){var fileUrl=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var message={timestamp:firebase.database.ServerValue.TIMESTAMP,user:{id:_this.state.user.uid,name:_this.state.user.displayName,avatar:_this.state.user.photoURL}};if(fileUrl!==null){message[\"image\"]=fileUrl;}else{message[\"content\"]=_this.state.message;}return message;};_this.sendMessage=function(){var getMessagesRef=_this.props.getMessagesRef;var _this$state2=_this.state,message=_this$state2.message,channel=_this$state2.channel,user=_this$state2.user,typingRef=_this$state2.typingRef;if(message){_this.setState({loading:true});getMessagesRef().child(channel.id).push().set(_this.createMessage()).then(function(){_this.setState({loading:false,message:\"\",errors:[]});typingRef.child(channel.id).child(user.uid).remove();}).catch(function(err){console.error(err);_this.setState({loading:false,errors:_this.state.errors.concat(err)});});}else{_this.setState({errors:_this.state.errors.concat({message:\"Add a message\"})});}};_this.getPath=function(){if(_this.props.isPrivateChannel){return\"chat/private/\".concat(_this.state.channel.id);}else{return\"chat/public\";}};_this.uploadFile=function(file,metadata){var pathToUpload=_this.state.channel.id;var ref=_this.props.getMessagesRef();var filePath=\"\".concat(_this.getPath(),\"/\").concat(v4_default()(),\".jpg\");_this.setState({uploadState:\"uploading\",uploadTask:_this.state.storageRef.child(filePath).put(file,metadata)},function(){_this.state.uploadTask.on(\"state_changed\",function(snap){var percentUploaded=Math.round(snap.bytesTransferred/snap.totalBytes*100);_this.setState({percentUploaded:percentUploaded});},function(err){console.error(err);_this.setState({errors:_this.state.errors.concat(err),uploadState:\"error\",uploadTask:null});},function(){_this.state.uploadTask.snapshot.ref.getDownloadURL().then(function(downloadUrl){_this.sendFileMessage(downloadUrl,ref,pathToUpload);}).catch(function(err){console.error(err);_this.setState({errors:_this.state.errors.concat(err),uploadState:\"error\",uploadTask:null});});});});};_this.sendFileMessage=function(fileUrl,ref,pathToUpload){ref.child(pathToUpload).push().set(_this.createMessage(fileUrl)).then(function(){_this.setState({uploadState:\"done\"});}).catch(function(err){console.error(err);_this.setState({errors:_this.state.errors.concat(err)});});};return _this;}Object(createClass[\"a\" /* default */])(MessageForm,[{key:\"componentWillUnmount\",value:function componentWillUnmount(){if(this.state.uploadTask!==null){this.state.uploadTask.cancel();this.setState({uploadTask:null});}}},{key:\"render\",value:function render(){var _this2=this;// prettier-ignore\nvar _this$state3=this.state,errors=_this$state3.errors,message=_this$state3.message,loading=_this$state3.loading,modal=_this$state3.modal,uploadState=_this$state3.uploadState,percentUploaded=_this$state3.percentUploaded,emojiPicker=_this$state3.emojiPicker;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Segment[\"a\" /* default */],{className:\"message__form\",children:[emojiPicker&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist_es[\"a\" /* Picker */],{set:\"apple\",onSelect:this.handleAddEmoji,className:\"emojiPIcker\",title:\"Pick your emoji\",emoji:\"point_up\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input[\"a\" /* default */],{fluid:true,name:\"message\",onChange:this.handleChange,onKeyDown:this.handleKeyDown,value:message,ref:function ref(node){return _this2.messageInputRef=node;},style:{marginBottom:\"0.7em\"},label:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{icon:emojiPicker?\"close\":\"add\",content:emojiPicker?\"close\":null,onClick:this.handleTogglePicker}),labelPosition:\"left\",className:errors.some(function(error){return error.message.includes(\"message\");})?\"error\":\"\",placeholder:\"Write your message\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button[\"a\" /* default */].Group,{icon:true,widths:\"2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:this.sendMessage,disabled:loading,color:\"orange\",content:\"Add Reply\",labelPosition:\"left\",icon:\"edit\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{color:\"teal\",disabled:uploadState===\"uploading\",onClick:this.openModal,content:\"Upload Media\",labelPosition:\"right\",icon:\"cloud upload\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Messages_FileModal,{modal:modal,closeModal:this.closeModal,uploadFile:this.uploadFile}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Messages_ProgressBar,{uploadState:uploadState,percentUploaded:percentUploaded})]});}}]);return MessageForm;}(react_default.a.Component);/* harmony default export */ var Messages_MessageForm = (MessageForm_MessageForm);\n// EXTERNAL MODULE: ./node_modules/moment/moment.js\nvar moment = __webpack_require__(301);\nvar moment_default = /*#__PURE__*/__webpack_require__.n(moment);\n\n// CONCATENATED MODULE: ./src/components/Messages/Message.js\nvar isOwnMessage=function isOwnMessage(message,user){return message.user.id===user.uid?\"message__self\":\"\";};var isImage=function isImage(message){return message.hasOwnProperty(\"image\")&&!message.hasOwnProperty(\"content\");};var Message_timeFromNow=function timeFromNow(timestamp){return moment_default()(timestamp).fromNow();};var Message_Message=function Message(_ref){var message=_ref.message,user=_ref.user;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Comment[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Comment[\"a\" /* default */].Avatar,{src:message.user.avatar}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Comment[\"a\" /* default */].Content,{className:isOwnMessage(message,user),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Comment[\"a\" /* default */].Author,{as:\"a\",children:message.user.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Comment[\"a\" /* default */].Metadata,{children:Message_timeFromNow(message.timestamp)}),isImage(message)?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Image[\"a\" /* default */],{src:message.image,className:\"message__image\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Comment[\"a\" /* default */].Text,{children:message.content})]})]});};/* harmony default export */ var Messages_Message = (Message_Message);\n// CONCATENATED MODULE: ./src/components/Messages/Typing.js\nvar Typing_Typing=function Typing(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"typing\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"typing__dot\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"typing__dot\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"typing__dot\"})]});};/* harmony default export */ var Messages_Typing = (Typing_Typing);\n// CONCATENATED MODULE: ./src/components/Messages/skeleton.js\nvar skeleton_Skeleton=function Skeleton(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"skeleton\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"skeleton__avatar\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"skeleton__author\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"skeleton__details\"})]});};/* harmony default export */ var skeleton = (skeleton_Skeleton);\n// CONCATENATED MODULE: ./src/components/Messages/Messages.js\nvar Messages_Messages=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(Messages,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(Messages);function Messages(){var _this;Object(classCallCheck[\"a\" /* default */])(this,Messages);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={privateChannel:_this.props.isPrivateChannel,privateMessagesRef:firebase.database().ref(\"privateMessages\"),messagesRef:firebase.database().ref(\"messages\"),messages:[],messagesLoading:true,channel:_this.props.currentChannel,isChannelStarred:false,user:_this.props.currentUser,usersRef:firebase.database().ref(\"users\"),numUniqueUsers:\"\",searchTerm:\"\",searchLoading:false,searchResults:[],typingRef:firebase.database().ref(\"typing\"),typingUsers:[],connectedRef:firebase.database().ref(\".info/connected\"),listeners:[]};_this.addToListeners=function(id,ref,event){var index=_this.state.listeners.findIndex(function(listener){return listener.id===id&&listener.ref===ref&&listener.event===event;});if(index===-1){var newListener={id:id,ref:ref,event:event};_this.setState({listeners:_this.state.listeners.concat(newListener)});}};_this.removeListeners=function(listeners){listeners.forEach(function(listener){listener.ref.child(listener.id).off(listener.event);});};_this.scrollToBottom=function(){_this.messagesEnd.scrollIntoView({behaviour:\"smooth\"});};_this.addListeners=function(channelId){_this.addMessageListener(channelId);_this.addTypingListeners(channelId);};_this.addTypingListeners=function(channelId){var typingUsers=[];_this.state.typingRef.child(channelId).on(\"child_added\",function(snap){if(snap.key!==_this.state.user.uid){typingUsers=typingUsers.concat({id:snap.key,name:snap.val()});_this.setState({typingUsers:typingUsers});}});_this.addToListeners(channelId,_this.state.typingRef,\"child_added\");_this.state.typingRef.child(channelId).on(\"child_removed\",function(snap){var index=typingUsers.findIndex(function(user){return user.id===snap.key;});if(index!==-1){typingUsers=typingUsers.filter(function(user){return user.id!==snap.key;});_this.setState({typingUsers:typingUsers});}});_this.addToListeners(channelId,_this.state.typingRef,\"child_removed\");_this.state.connectedRef.on(\"value\",function(snap){if(snap.val()===true){_this.state.typingRef.child(channelId).child(_this.state.user.uid).onDisconnect().remove(function(err){if(err!==null){console.error(err);}});}});};_this.addMessageListener=function(channelId){var loadedMessages=[];var ref=_this.getMessagesRef();ref.child(channelId).on(\"child_added\",function(snap){loadedMessages.push(snap.val());_this.setState({messages:loadedMessages,messagesLoading:false});_this.countUniqueUsers(loadedMessages);_this.countUserPosts(loadedMessages);});_this.addToListeners(channelId,ref,\"child_added\");};_this.addUserStarsListener=function(channelId,userId){_this.state.usersRef.child(userId).child(\"starred\").once(\"value\").then(function(data){if(data.val()!==null){var channelIds=Object.keys(data.val());var prevStarred=channelIds.includes(channelId);_this.setState({isChannelStarred:prevStarred});}});};_this.getMessagesRef=function(){var _this$state=_this.state,messagesRef=_this$state.messagesRef,privateMessagesRef=_this$state.privateMessagesRef,privateChannel=_this$state.privateChannel;return privateChannel?privateMessagesRef:messagesRef;};_this.handleStar=function(){_this.setState(function(prevState){return{isChannelStarred:!prevState.isChannelStarred};},function(){return _this.starChannel();});};_this.starChannel=function(){if(_this.state.isChannelStarred){_this.state.usersRef.child(\"\".concat(_this.state.user.uid,\"/starred\")).update(Object(defineProperty[\"a\" /* default */])({},_this.state.channel.id,{name:_this.state.channel.name,details:_this.state.channel.details,createdBy:{name:_this.state.channel.createdBy.name,avatar:_this.state.channel.createdBy.avatar}}));}else{_this.state.usersRef.child(\"\".concat(_this.state.user.uid,\"/starred\")).child(_this.state.channel.id).remove(function(err){if(err!==null){console.error(err);}});}};_this.handleSearchChange=function(event){_this.setState({searchTerm:event.target.value,searchLoading:true},function(){return _this.handleSearchMessages();});};_this.handleSearchMessages=function(){var channelMessages=Object(toConsumableArray[\"a\" /* default */])(_this.state.messages);var regex=new RegExp(_this.state.searchTerm,\"gi\");var searchResults=channelMessages.reduce(function(acc,message){if(message.content&&message.content.match(regex)||message.user.name.match(regex)){acc.push(message);}return acc;},[]);_this.setState({searchResults:searchResults});setTimeout(function(){return _this.setState({searchLoading:false});},1000);};_this.countUniqueUsers=function(messages){var uniqueUsers=messages.reduce(function(acc,message){if(!acc.includes(message.user.name)){acc.push(message.user.name);}return acc;},[]);var plural=uniqueUsers.length>1||uniqueUsers.length===0;var numUniqueUsers=\"\".concat(uniqueUsers.length,\" user\").concat(plural?\"s\":\"\");_this.setState({numUniqueUsers:numUniqueUsers});};_this.countUserPosts=function(messages){var userPosts=messages.reduce(function(acc,message){if(message.user.name in acc){acc[message.user.name].count+=1;}else{acc[message.user.name]={avatar:message.user.avatar,count:1};}return acc;},{});_this.props.setUserPosts(userPosts);};_this.displayMessages=function(messages){return messages.length>0&&messages.map(function(message){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Messages_Message,{message:message,user:_this.state.user},message.timestamp);});};_this.displayChannelName=function(channel){return channel?\"\".concat(_this.state.privateChannel?\"@\":\"#\").concat(channel.name):\"\";};_this.displayTypingUsers=function(users){return users.length>0&&users.map(function(user){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{display:\"flex\",alignItems:\"center\",marginBottom:\"0.2em\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"user__typing\",children:[user.name,\" is typing\"]}),\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Messages_Typing,{})]},user.id);});};_this.displayMessageSkeleton=function(loading){loading?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.Fragment,{children:Object(toConsumableArray[\"a\" /* default */])(Array(10)).map(function(_,i){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(skeleton,{},i);})}):null;};return _this;}Object(createClass[\"a\" /* default */])(Messages,[{key:\"componentDidMount\",value:function componentDidMount(){var _this$state2=this.state,channel=_this$state2.channel,user=_this$state2.user,listeners=_this$state2.listeners;if(channel&&user){this.removeListeners(listeners);this.addListeners(channel.id);this.addUserStarsListener(channel.id,user.uid);}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.removeListeners(this.state.listeners);this.state.connectedRef.off();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){if(this.messagesEnd){this.scrollToBottom();}}},{key:\"render\",value:function render(){var _this2=this;// prettier-ignore\nvar _this$state3=this.state,messagesRef=_this$state3.messagesRef,messages=_this$state3.messages,channel=_this$state3.channel,user=_this$state3.user,numUniqueUsers=_this$state3.numUniqueUsers,searchTerm=_this$state3.searchTerm,searchResults=_this$state3.searchResults,searchLoading=_this$state3.searchLoading,privateChannel=_this$state3.privateChannel,isChannelStarred=_this$state3.isChannelStarred,typingUsers=_this$state3.typingUsers,messagesLoading=_this$state3.messagesLoading;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_default.a.Fragment,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Messages_MessagesHeader,{channelName:this.displayChannelName(channel),numUniqueUsers:numUniqueUsers,handleSearchChange:this.handleSearchChange,searchLoading:searchLoading,isPrivateChannel:privateChannel,handleStar:this.handleStar,isChannelStarred:isChannelStarred}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Segment[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Comment[\"a\" /* default */].Group,{className:\"messages\",children:[this.displayMessageSkeleton(messagesLoading),searchTerm?this.displayMessages(searchResults):this.displayMessages(messages),this.displayTypingUsers(typingUsers),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{ref:function ref(node){return _this2.messagesEnd=node;}})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Messages_MessageForm,{messagesRef:messagesRef,currentChannel:channel,currentUser:user,isPrivateChannel:privateChannel,getMessagesRef:this.getMessagesRef})]});}}]);return Messages;}(react_default.a.Component);/* harmony default export */ var components_Messages_Messages = (Object(es[\"b\" /* connect */])(null,{setUserPosts:actions_setUserPosts})(Messages_Messages));\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(306);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/List/List.js + 6 modules\nvar List = __webpack_require__(560);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/modules/Accordion/Accordion.js + 4 modules\nvar Accordion = __webpack_require__(561);\n\n// CONCATENATED MODULE: ./src/components/MetaPanel/MetaPanel.js\nvar MetaPanel_MetaPanel=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(MetaPanel,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(MetaPanel);function MetaPanel(){var _this;Object(classCallCheck[\"a\" /* default */])(this,MetaPanel);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={channel:_this.props.currentChannel,privateChannel:_this.props.isPrivateChannel,activeIndex:0};_this.setActiveIndex=function(event,titleProps){var index=titleProps.index;var activeIndex=_this.state.activeIndex;var newIndex=activeIndex===index?-1:index;_this.setState({activeIndex:newIndex});};_this.formatCount=function(num){return num>1||num===0?\"\".concat(num,\" posts\"):\"\".concat(num,\" post\");};_this.displayTopPosters=function(posts){return Object.entries(posts).sort(function(a,b){return b[1]-a[1];}).map(function(_ref,i){var _ref2=Object(slicedToArray[\"a\" /* default */])(_ref,2),key=_ref2[0],val=_ref2[1];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(List[\"a\" /* default */].Item,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Image[\"a\" /* default */],{avatar:true,src:val.avatar}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(List[\"a\" /* default */].Content,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(List[\"a\" /* default */].Header,{as:\"a\",children:key}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(List[\"a\" /* default */].Description,{as:\"a\",children:_this.formatCount(val.count)})]})]},i);}).slice(0,5);};return _this;}Object(createClass[\"a\" /* default */])(MetaPanel,[{key:\"render\",value:function render(){var _this$state=this.state,activeIndex=_this$state.activeIndex,privateChannel=_this$state.privateChannel,channel=_this$state.channel;var userPosts=this.props.userPosts;if(privateChannel)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Segment[\"a\" /* default */],{loading:!channel,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Header[\"a\" /* default */],{as:\"h3\",attached:\"top\",children:[\"About # \",channel&&channel.name]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Accordion[\"a\" /* default */],{styled:true,attached:\"true\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Accordion[\"a\" /* default */].Title,{active:activeIndex===0,index:0,onClick:this.setActiveIndex,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"dropdown\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"info\"}),\"Channel Details\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Accordion[\"a\" /* default */].Content,{active:activeIndex===0,children:channel&&channel.details}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Accordion[\"a\" /* default */].Title,{active:activeIndex===1,index:1,onClick:this.setActiveIndex,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"dropdown\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"user circle\"}),\"Top Posters\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Accordion[\"a\" /* default */].Content,{active:activeIndex===1,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(List[\"a\" /* default */],{children:userPosts&&this.displayTopPosters(userPosts)})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Accordion[\"a\" /* default */].Title,{active:activeIndex===2,index:2,onClick:this.setActiveIndex,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"dropdown\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"pencil alternate\"}),\"Created By\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Accordion[\"a\" /* default */].Content,{active:activeIndex===2,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Header[\"a\" /* default */],{as:\"h3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Image[\"a\" /* default */],{circular:true,src:channel&&channel.createdBy.avatar}),channel&&channel.createdBy.name]})})]})]});}}]);return MetaPanel;}(react_default.a.Component);/* harmony default export */ var components_MetaPanel_MetaPanel = (MetaPanel_MetaPanel);\n// CONCATENATED MODULE: ./src/components/App.js\nvar App_App=function App(_ref){var currentUser=_ref.currentUser,currentChannel=_ref.currentChannel,isPrivateChannel=_ref.isPrivateChannel,userPosts=_ref.userPosts,primaryColor=_ref.primaryColor,secondaryColor=_ref.secondaryColor;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{columns:\"equal\",className:\"app\",style:{background:secondaryColor},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ColorPanel_ColorPanel,{currentUser:currentUser},currentUser&&currentUser.name),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_SidePanel_SidePanel,{currentUser:currentUser,primaryColor:primaryColor},currentUser&&currentUser.uid),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */].Column,{style:{marginLeft:320},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Messages_Messages,{currentChannel:currentChannel,currentUser:currentUser,isPrivateChannel:isPrivateChannel},currentChannel&&currentChannel.id)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */].Column,{width:4,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_MetaPanel_MetaPanel,{userPosts:userPosts,currentChannel:currentChannel,isPrivateChannel:isPrivateChannel},currentChannel&&currentChannel.name)})]});};var mapStateToProps=function mapStateToProps(state){return{currentUser:state.user.currentUser,currentChannel:state.channel.currentChannel,isPrivateChannel:state.channel.isPrivateChannel,userPosts:state.channel.userPosts,primaryColor:state.colors.primaryColor,secondaryColor:state.colors.secondaryColor};};/* harmony default export */ var src_components_App = (Object(es[\"b\" /* connect */])(mapStateToProps)(App_App));\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/collections/Message/Message.js + 4 modules\nvar collections_Message_Message = __webpack_require__(562);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/es/Link.js\nvar Link = __webpack_require__(553);\n\n// CONCATENATED MODULE: ./src/components/Auth/Login.js\nvar Login_Login=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(Login,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(Login);function Login(){var _this;Object(classCallCheck[\"a\" /* default */])(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={email:\"\",password:\"\",errors:[],loading:false};_this.displayErrors=function(errors){return errors.map(function(error,i){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:error.message},i);});};_this.handleChange=function(event){_this.setState(Object(defineProperty[\"a\" /* default */])({},event.target.name,event.target.value));};_this.handleSubmit=function(event){event.preventDefault();if(_this.isFormValid(_this.state)){_this.setState({errors:[],loading:true});firebase.auth().signInWithEmailAndPassword(_this.state.email,_this.state.password).then(function(signedInUser){console.log(signedInUser);}).catch(function(err){console.error(err);_this.setState({errors:_this.state.errors.concat(err),loading:false});});}};_this.isFormValid=function(_ref){var email=_ref.email,password=_ref.password;return email&&password;};_this.handleInputError=function(errors,inputName){return errors.some(function(error){return error.message.toLowerCase().includes(inputName);})?\"error\":\"\";};return _this;}Object(createClass[\"a\" /* default */])(Login,[{key:\"render\",value:function render(){var _this$state=this.state,email=_this$state.email,password=_this$state.password,errors=_this$state.errors,loading=_this$state.loading;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{textAlign:\"center\",verticalAlign:\"middle\",className:\"app\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */].Column,{style:{maxWidth:450},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Header[\"a\" /* default */],{as:\"h1\",icon:true,color:\"violet\",textAlign:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"code branch\",color:\"violet\"}),\"Login to HelpingHand\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */],{onSubmit:this.handleSubmit,size:\"large\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Segment[\"a\" /* default */],{stacked:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Input,{fluid:true,name:\"email\",icon:\"mail\",iconPosition:\"left\",placeholder:\"Email Address\",onChange:this.handleChange,value:email,className:this.handleInputError(errors,\"email\"),type:\"email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Input,{fluid:true,name:\"password\",icon:\"lock\",iconPosition:\"left\",placeholder:\"Password\",onChange:this.handleChange,value:password,className:this.handleInputError(errors,\"password\"),type:\"password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{disabled:loading,className:loading?\"loading\":\"\",color:\"violet\",fluid:true,size:\"large\",children:\"Submit\"})]})}),errors.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(collections_Message_Message[\"a\" /* default */],{error:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Error\"}),this.displayErrors(errors)]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(collections_Message_Message[\"a\" /* default */],{children:[\"Don't have an account? \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Link[\"a\" /* default */],{to:\"/register\",children:\"Register\"})]})]})});}}]);return Login;}(react_default.a.Component);/* harmony default export */ var Auth_Login = (Login_Login);\n// EXTERNAL MODULE: ./node_modules/md5/md5.js\nvar md5 = __webpack_require__(302);\nvar md5_default = /*#__PURE__*/__webpack_require__.n(md5);\n\n// CONCATENATED MODULE: ./src/components/Auth/Register.js\nvar Register_Register=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(Register,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(Register);function Register(){var _this;Object(classCallCheck[\"a\" /* default */])(this,Register);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={username:\"\",email:\"\",password:\"\",passwordConfirmation:\"\",errors:[],loading:false,usersRef:firebase.database().ref(\"users\")};_this.isFormValid=function(){var errors=[];var error;if(_this.isFormEmpty(_this.state)){error={message:\"Fill in all fields\"};_this.setState({errors:errors.concat(error)});return false;}else if(!_this.isPasswordValid(_this.state)){error={message:\"Password is invalid\"};_this.setState({errors:errors.concat(error)});return false;}else{return true;}};_this.isFormEmpty=function(_ref){var username=_ref.username,email=_ref.email,password=_ref.password,passwordConfirmation=_ref.passwordConfirmation;return!username.length||!email.length||!password.length||!passwordConfirmation.length;};_this.isPasswordValid=function(_ref2){var password=_ref2.password,passwordConfirmation=_ref2.passwordConfirmation;if(password.length<6||passwordConfirmation.length<6){return false;}else if(password!==passwordConfirmation){return false;}else{return true;}};_this.displayErrors=function(errors){return errors.map(function(error,i){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:error.message},i);});};_this.handleChange=function(event){_this.setState(Object(defineProperty[\"a\" /* default */])({},event.target.name,event.target.value));};_this.handleSubmit=function(event){event.preventDefault();if(_this.isFormValid()){_this.setState({errors:[],loading:true});firebase.auth().createUserWithEmailAndPassword(_this.state.email,_this.state.password).then(function(createdUser){console.log(createdUser);createdUser.user.updateProfile({displayName:_this.state.username,photoURL:\"http://gravatar.com/avatar/\".concat(md5_default()(createdUser.user.email),\"?d=identicon\")}).then(function(){_this.saveUser(createdUser).then(function(){console.log(\"user saved\");});}).catch(function(err){console.error(err);_this.setState({errors:_this.state.errors.concat(err),loading:false});});}).catch(function(err){console.error(err);_this.setState({errors:_this.state.errors.concat(err),loading:false});});}};_this.saveUser=function(createdUser){return _this.state.usersRef.child(createdUser.user.uid).set({name:createdUser.user.displayName,avatar:createdUser.user.photoURL});};_this.handleInputError=function(errors,inputName){return errors.some(function(error){return error.message.toLowerCase().includes(inputName);})?\"error\":\"\";};return _this;}Object(createClass[\"a\" /* default */])(Register,[{key:\"render\",value:function render(){var _this$state=this.state,username=_this$state.username,email=_this$state.email,password=_this$state.password,passwordConfirmation=_this$state.passwordConfirmation,errors=_this$state.errors,loading=_this$state.loading;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{textAlign:\"center\",verticalAlign:\"middle\",className:\"app\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */].Column,{style:{maxWidth:450},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Header[\"a\" /* default */],{as:\"h1\",icon:true,color:\"orange\",textAlign:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"puzzle piece\",color:\"orange\"}),\"Register for HelpingHand\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */],{onSubmit:this.handleSubmit,size:\"large\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Segment[\"a\" /* default */],{stacked:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Input,{fluid:true,name:\"username\",icon:\"user\",iconPosition:\"left\",placeholder:\"Username\",onChange:this.handleChange,value:username,type:\"text\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Input,{fluid:true,name:\"email\",icon:\"mail\",iconPosition:\"left\",placeholder:\"Email Address\",onChange:this.handleChange,value:email,className:this.handleInputError(errors,\"email\"),type:\"email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Input,{fluid:true,name:\"password\",icon:\"lock\",iconPosition:\"left\",placeholder:\"Password\",onChange:this.handleChange,value:password,className:this.handleInputError(errors,\"password\"),type:\"password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Input,{fluid:true,name:\"passwordConfirmation\",icon:\"repeat\",iconPosition:\"left\",placeholder:\"Password Confirmation\",onChange:this.handleChange,value:passwordConfirmation,className:this.handleInputError(errors,\"password\"),type:\"password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{disabled:loading,className:loading?\"loading\":\"\",color:\"orange\",fluid:true,size:\"large\",children:\"Submit\"})]})}),errors.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(collections_Message_Message[\"a\" /* default */],{error:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Error\"}),this.displayErrors(errors)]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(collections_Message_Message[\"a\" /* default */],{children:[\"Already a user? \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Link[\"a\" /* default */],{to:\"/login\",children:\"Login\"})]})]})});}}]);return Register;}(react_default.a.Component);/* harmony default export */ var Auth_Register = (Register_Register);\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/modules/Dimmer/Dimmer.js + 2 modules\nvar Dimmer = __webpack_require__(566);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Loader/Loader.js\nvar Loader = __webpack_require__(554);\n\n// CONCATENATED MODULE: ./src/Spinner.js\nvar Spinner_Spinner=function Spinner(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dimmer[\"a\" /* default */],{active:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Loader[\"a\" /* default */],{size:\"huge\",content:\"Preparing Chat...\"})});};/* harmony default export */ var src_Spinner = (Spinner_Spinner);\n// CONCATENATED MODULE: ./src/registerServiceWorker.js\n// In production, we register a service worker to serve assets from local cache.\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\nvar isLocalhost=Boolean(window.location.hostname==='localhost'||// [::1] is the IPv6 localhost address.\nwindow.location.hostname==='[::1]'||// 127.0.0.1/8 is considered localhost for IPv4.\nwindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function register(){if( true&&'serviceWorker'in navigator){// The URL constructor is available in all browsers that support SW.\nvar publicUrl=new URL(\"\",window.location);if(publicUrl.origin!==window.location.origin){// Our service worker won't work if PUBLIC_URL is on a different origin\n// from what our page is served on. This might happen if a CDN is used to\n// serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\nreturn;}window.addEventListener('load',function(){var swUrl=\"\".concat(\"\",\"/service-worker.js\");if(isLocalhost){// This is running on localhost. Lets check if a service worker still exists or not.\ncheckValidServiceWorker(swUrl);// Add some additional logging to localhost, pointing developers to the\n// service worker/PWA documentation.\nnavigator.serviceWorker.ready.then(function(){console.log('This web app is being served cache-first by a service '+'worker. To learn more, visit https://goo.gl/SC7cgQ');});}else{// Is not local host. Just register service worker\nregisterValidSW(swUrl);}});}}function registerValidSW(swUrl){navigator.serviceWorker.register(swUrl).then(function(registration){registration.onupdatefound=function(){var installingWorker=registration.installing;installingWorker.onstatechange=function(){if(installingWorker.state==='installed'){if(navigator.serviceWorker.controller){// At this point, the old content will have been purged and\n// the fresh content will have been added to the cache.\n// It's the perfect time to display a \"New content is\n// available; please refresh.\" message in your web app.\nconsole.log('New content is available; please refresh.');}else{// At this point, everything has been precached.\n// It's the perfect time to display a\n// \"Content is cached for offline use.\" message.\nconsole.log('Content is cached for offline use.');}}};};}).catch(function(error){console.error('Error during service worker registration:',error);});}function checkValidServiceWorker(swUrl){// Check if the service worker can be found. If it can't reload the page.\nfetch(swUrl).then(function(response){// Ensure service worker exists, and that we really are getting a JS file.\nif(response.status===404||response.headers.get('content-type').indexOf('javascript')===-1){// No service worker found. Probably a different app. Reload the page.\nnavigator.serviceWorker.ready.then(function(registration){registration.unregister().then(function(){window.location.reload();});});}else{// Service worker found. Proceed as normal.\nregisterValidSW(swUrl);}}).catch(function(){console.log('No internet connection found. App is running in offline mode.');});}function unregister(){if('serviceWorker'in navigator){navigator.serviceWorker.ready.then(function(registration){registration.unregister();});}}\n// EXTERNAL MODULE: ./node_modules/semantic-ui-css/semantic.min.css\nvar semantic_min = __webpack_require__(536);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/es/Switch.js + 1 modules\nvar Switch = __webpack_require__(569);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/es/Route.js\nvar Route = __webpack_require__(555);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/es/withRouter.js + 1 modules\nvar withRouter = __webpack_require__(570);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/es/BrowserRouter.js + 2 modules\nvar BrowserRouter = __webpack_require__(564);\n\n// EXTERNAL MODULE: ./node_modules/redux/es/redux.js\nvar redux = __webpack_require__(66);\n\n// EXTERNAL MODULE: ./node_modules/redux-devtools-extension/index.js\nvar redux_devtools_extension = __webpack_require__(303);\n\n// CONCATENATED MODULE: ./src/reducers/index.js\nvar initialUserState={currentUser:null,isLoading:true,userPosts:null};var reducers_user_reducer=function user_reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialUserState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case SET_USER:return{currentUser:action.payload.currentUser,isLoading:false};case CLEAR_USER:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{isLoading:false});default:return state;}};var initialChannelState={currentChannel:null,isPrivateChannel:false};var reducers_channel_reducer=function channel_reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialChannelState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case SET_CURRENT_CHANNEL:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{currentChannel:action.payload.currentChannel});case SET_PRIVATE_CHANNEL:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{isPrivateChannel:action.payload.isPrivateChannel});case SET_PRIVATE_POSTS:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{userPosts:action.payload.userPosts});default:return state;}};var InitialColorsState={primaryColor:\"#4c3c4c\",secondaryColor:\"#eee\"};var reducers_colors_reducer=function colors_reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:InitialColorsState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case SET_COLORS:return{primaryColor:action.payload.primaryColor,secondaryColor:action.payload.secondaryColor};default:return state;}};var rootReducer=Object(redux[\"combineReducers\"])({user:reducers_user_reducer,channel:reducers_channel_reducer,colors:reducers_colors_reducer});/* harmony default export */ var reducers = (rootReducer);\n// CONCATENATED MODULE: ./src/index.js\nvar store=Object(redux[\"createStore\"])(reducers,Object(redux_devtools_extension[\"composeWithDevTools\"])());var src_Root=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(Root,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(Root);function Root(){Object(classCallCheck[\"a\" /* default */])(this,Root);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(Root,[{key:\"componentDidMount\",value:function componentDidMount(){var _this=this;firebase.auth().onAuthStateChanged(function(user){if(user){// console.log(user);\n_this.props.setUser(user);_this.props.history.push(\"/\");}else{_this.props.history.push(\"/login\");_this.props.clearUser();}});}},{key:\"render\",value:function render(){return this.props.isLoading?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Spinner,{}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Switch[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Route[\"a\" /* default */],{exact:true,path:\"/\",component:src_components_App}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Route[\"a\" /* default */],{path:\"/login\",component:Auth_Login}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Route[\"a\" /* default */],{path:\"/register\",component:Auth_Register})]});}}]);return Root;}(react_default.a.Component);var mapStateFromProps=function mapStateFromProps(state){return{isLoading:state.user.isLoading};};var RootWithAuth=Object(withRouter[\"a\" /* default */])(Object(es[\"b\" /* connect */])(mapStateFromProps,{setUser:actions_setUser,clearUser:actions_clearUser})(src_Root));react_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"a\" /* Provider */],{store:store,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BrowserRouter[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RootWithAuth,{})})}),document.getElementById(\"root\"));register();\n\n/***/ })\n\n},[[538,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\BIRAJ\\Desktop\\react-slack-clone\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\BIRAJ\\Desktop\\react-slack-clone\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\BIRAJ\\Desktop\\react-slack-clone\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\BIRAJ\\Desktop\\react-slack-clone\\src\\components\\App.css","C:/Users/BIRAJ/Desktop/react-slack-clone/src/firebase.js","C:/Users/BIRAJ/Desktop/react-slack-clone/src/actions/types.js","C:/Users/BIRAJ/Desktop/react-slack-clone/src/actions/index.js","C:/Users/BIRAJ/Desktop/react-slack-clone/src/components/ColorPanel/ColorPanel.js","C:/Users/BIRAJ/Desktop/react-slack-clone/src/components/SidePanel/UserPanel.js","C:/Users/BIRAJ/Desktop/react-slack-clone/src/components/SidePanel/Channels.js","C:/Users/BIRAJ/Desktop/react-slack-clone/src/components/SidePanel/DirectMessages.js","C:/Users/BIRAJ/Desktop/react-slack-clone/src/components/SidePanel/Starred.js","C:/Users/BIRAJ/Desktop/react-slack-clone/src/components/SidePanel/SidePanel.js","C:/Users/BIRAJ/Desktop/react-slack-clone/src/components/Messages/MessagesHeader.js","C:/Users/BIRAJ/Desktop/react-slack-clone/src/components/Messages/FileModal.js","C:/Users/BIRAJ/Desktop/react-slack-clone/src/components/Messages/ProgressBar.js","C:/Users/BIRAJ/Desktop/react-slack-clone/src/components/Messages/MessageForm.js","C:/Users/BIRAJ/Desktop/react-slack-clone/src/components/Messages/Message.js","C:/Users/BIRAJ/Desktop/react-slack-clone/src/components/Messages/Typing.js","C:/Users/BIRAJ/Desktop/react-slack-clone/src/components/Messages/skeleton.js","C:/Users/BIRAJ/Desktop/react-slack-clone/src/components/Messages/Messages.js","C:/Users/BIRAJ/Desktop/react-slack-clone/src/components/MetaPanel/MetaPanel.js","C:/Users/BIRAJ/Desktop/react-slack-clone/src/components/App.js","C:/Users/BIRAJ/Desktop/react-slack-clone/src/components/Auth/Login.js","C:/Users/BIRAJ/Desktop/react-slack-clone/src/components/Auth/Register.js","C:/Users/BIRAJ/Desktop/react-slack-clone/src/Spinner.js","C:/Users/BIRAJ/Desktop/react-slack-clone/src/registerServiceWorker.js","C:/Users/BIRAJ/Desktop/react-slack-clone/src/reducers/index.js","C:/Users/BIRAJ/Desktop/react-slack-clone/src/index.js"],"names":["firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebase","initializeApp","SET_USER","CLEAR_USER","SET_CURRENT_CHANNEL","SET_PRIVATE_CHANNEL","SET_PRIVATE_POSTS","SET_COLORS","setUser","user","type","actionTypes","payload","currentUser","clearUser","setCurrentChannel","channel","currentChannel","setPrivateChannel","isPrivateChannel","setUserPosts","userPosts","setColors","primaryColor","secondaryColor","ColorPanel","state","modal","primary","secondary","props","usersRef","database","ref","userColors","removeListeners","child","uid","off","addListener","userId","on","snap","unshift","val","setState","handleChangePrimary","color","hex","handleChangeSecondary","handleSaveColors","saveColors","push","update","then","console","log","closeModal","catch","err","error","displayUserColors","colors","length","map","i","background","openModal","Menu","React","Component","connect","UserPanel","previewImage","croppedImage","blob","uploadedCroppedImage","storageRef","storage","userRef","auth","metadata","contentType","dropdownOptions","key","text","displayName","disabled","handleSignout","uploadCroppedImage","put","getDownloadURL","downloadURL","changeAvatar","updateProfile","photoURL","avatar","handleChange","event","file","target","files","reader","FileReader","readAsDataURL","addEventListener","result","handleCropImage","avatarEditor","getImageScaledToCanvas","toBlob","imageUrl","URL","createObjectURL","signOut","padding","margin","node","Channels","activeChannel","channels","channelName","channelDetails","channelsRef","messagesRef","typingRef","notifications","firstLoad","addListeners","loadedChannels","setFirstChannel","addNotificationListener","channelId","handleNotifications","id","currentChannelId","lastTotal","index","findIndex","notification","total","numChildren","count","lastKnownTotal","forEach","firstChannel","setActiveChannel","addChannel","newChannel","name","details","createdBy","handleSubmit","preventDefault","isFormValid","value","changeChannel","remove","clearNotifications","updatedNotifications","getNotificationCount","displayChannels","opacity","DirectMessages","users","connectedRef","presenceRef","currentUserUid","loadedUsers","set","onDisconnect","addStatusToUser","connected","updatedUsers","reduce","acc","concat","isUserOnline","status","getChannelId","channelData","currentUserId","fontStyle","Starred","starredChannels","removeListener","starredChannel","channelToRemove","filteredChannels","filter","SidePanel","fontSize","MessagesHeader","numUniqueUsers","handleSearchChange","searchLoading","handleStar","isChannelStarred","marginBottom","FileModal","authorized","addFile","sendFile","uploadFile","isAuthorized","mime","lookup","clearFile","filename","includes","ProgressBar","uploadState","percentUploaded","MessageForm","uploadTask","message","loading","errors","emojiPicker","handleKeyDown","keyCode","sendMessage","handleTogglePicker","handleAddEmoji","emoji","oldMessage","newMessage","colonToUnicode","colons","setTimeout","messageInputRef","focus","replace","x","emojiIndex","emojis","unicode","native","createMessage","fileUrl","timestamp","ServerValue","TIMESTAMP","getMessagesRef","getPath","pathToUpload","filePath","uuidv4","Math","round","bytesTransferred","totalBytes","snapshot","downloadUrl","sendFileMessage","cancel","some","isOwnMessage","isImage","hasOwnProperty","timeFromNow","moment","fromNow","Message","image","content","Typing","Skeleton","Messages","privateChannel","privateMessagesRef","messages","messagesLoading","searchTerm","searchResults","typingUsers","listeners","addToListeners","listener","newListener","scrollToBottom","messagesEnd","scrollIntoView","behaviour","addMessageListener","addTypingListeners","loadedMessages","countUniqueUsers","countUserPosts","addUserStarsListener","once","data","channelIds","Object","keys","prevStarred","prevState","starChannel","handleSearchMessages","channelMessages","regex","RegExp","match","uniqueUsers","plural","displayMessages","displayChannelName","displayTypingUsers","display","alignItems","displayMessageSkeleton","Array","_","prevProps","MetaPanel","activeIndex","setActiveIndex","titleProps","newIndex","formatCount","num","displayTopPosters","posts","entries","sort","a","b","slice","App","marginLeft","mapStateToProps","Login","email","password","displayErrors","signInWithEmailAndPassword","signedInUser","handleInputError","inputName","toLowerCase","maxWidth","Register","username","passwordConfirmation","isFormEmpty","isPasswordValid","createUserWithEmailAndPassword","createdUser","md5","saveUser","Spinner","isLocalhost","Boolean","window","location","hostname","register","process","navigator","publicUrl","origin","swUrl","checkValidServiceWorker","serviceWorker","ready","registerValidSW","registration","onupdatefound","installingWorker","installing","onstatechange","controller","fetch","response","headers","get","indexOf","unregister","reload","initialUserState","isLoading","user_reducer","action","initialChannelState","channel_reducer","InitialColorsState","colors_reducer","rootReducer","combineReducers","store","createStore","composeWithDevTools","Root","onAuthStateChanged","history","mapStateFromProps","RootWithAuth","withRouter","ReactDOM","render","document","getElementById","registerServiceWorker"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","import firebase from 'firebase/app';\n\nimport \"firebase/auth\";\n\nimport \"firebase/database\";\n\nimport \"firebase/storage\";\n\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nvar firebaseConfig = {\n  apiKey: \"AIzaSyCeo-LVX4VJ-AleJN2O3oTu1Ia22hbNlo0\",\n  authDomain: \"react-slack-clone-by-biraj.firebaseapp.com\",\n  projectId: \"react-slack-clone-by-biraj\",\n  storageBucket: \"react-slack-clone-by-biraj.appspot.com\",\n  messagingSenderId: \"877501910791\",\n  appId: \"1:877501910791:web:f207ae35ac1965ca93ffa2\",\n  measurementId: \"G-VS1R5591KM\"\n};\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nexport default firebase;\n","/* User Action Types */\nexport const SET_USER = \"SET_USER\";\nexport const CLEAR_USER = \"CLEAR_USER\";\n\n/* Channel Action Types */\nexport const SET_CURRENT_CHANNEL = \"SET_CURRENT_CHANNEL\";\nexport const SET_PRIVATE_CHANNEL = \"SET_PRIVATE_CHANNEL\";\nexport const SET_PRIVATE_POSTS = \"SET_USER_POSTS\";\n\n/* Colors Action Types */\nexport const SET_COLORS = \"SET_COLORS\";","import * as actionTypes from \"./types\";\n\n/* User Actions */\nexport const setUser = user => {\n  return {\n    type: actionTypes.SET_USER,\n    payload: {\n      currentUser: user\n    }\n  };\n};\n\nexport const clearUser = () => {\n  return {\n    type: actionTypes.CLEAR_USER\n  };\n};\n\n/* Channel Actions */\nexport const setCurrentChannel = channel => {\n  return {\n    type: actionTypes.SET_CURRENT_CHANNEL,\n    payload: {\n      currentChannel: channel\n    }\n  };\n};\n\nexport const setPrivateChannel = isPrivateChannel => {\n  return {\n    type: actionTypes.SET_PRIVATE_CHANNEL,\n    payload: {\n      isPrivateChannel\n    }\n  };\n};\n\nexport const setUserPosts = userPosts => {\n  return {\n    type: actionTypes.SET_PRIVATE_POSTS,\n    payload: {\n      userPosts \n    }\n  };\n};\n\n\n\n/ * Colors Action * /\nexport const setColors = (primaryColor, secondaryColor) => {\n  return {\n    type: actionTypes.SET_COLORS,\n    payload: {\n      primaryColor,\n      secondaryColor\n    }\n  }\n}","import React from \"react\";\nimport firebase from \"../../firebase\";\nimport { connect } from \"react-redux\";\nimport { setColors } from \"../../actions\";\n// prettier-ignore\nimport { Sidebar, Menu, Divider, Button, Modal, Icon, Label, Segment } from \"semantic-ui-react\";\nimport { SliderPicker } from \"react-color\";\n\nclass ColorPanel extends React.Component {\n  state = {\n    modal: false,\n    primary: \"\",\n    secondary: \"\",\n    user: this.props.currentUser,\n    usersRef: firebase.database().ref(\"users\"),\n    userColors: []\n  };\n\n  componentDidMount() {\n    if (this.state.user) {\n      this.addListener(this.state.user.uid);\n    }\n  }\n\n  componentWillUnmount() {\n    this.removeListeners();\n  }\n\n  removeListeners = () => {\n    this.state.usersRef.child(`${this.state.user.uid}/colors`).off();\n  };\n\n  addListener = userId => {\n    let userColors = [];\n    this.state.usersRef.child(`${userId}/colors`).on(\"child_added\", snap => {\n      userColors.unshift(snap.val());\n      this.setState({ userColors });\n    });\n  };\n\n  handleChangePrimary = color => this.setState({ primary: color.hex });\n\n  handleChangeSecondary = color => this.setState({ secondary: color.hex });\n\n  handleSaveColors = () => {\n    if (this.state.primary && this.state.secondary) {\n      this.saveColors(this.state.primary, this.state.secondary);\n    }\n  };\n\n  saveColors = (primary, secondary) => {\n    this.state.usersRef\n      .child(`${this.state.user.uid}/colors`)\n      .push()\n      .update({\n        primary,\n        secondary\n      })\n      .then(() => {\n        console.log(\"Colors added\");\n        this.closeModal();\n      })\n      .catch(err => console.error(err));\n  };\n\n  displayUserColors = colors =>\n    colors.length > 0 &&\n    colors.map((color, i) => (\n      <React.Fragment key={i}>\n        <Divider />\n        <div\n          className=\"color__container\"\n          onClick={() => this.props.setColors(color.primary, color.secondary)}\n        >\n          <div className=\"color__square\" style={{ background: color.primary }}>\n            <div\n              className=\"color__overlay\"\n              style={{ background: color.secondary }}\n            />\n          </div>\n        </div>\n      </React.Fragment>\n    ));\n\n  openModal = () => this.setState({ modal: true });\n\n  closeModal = () => this.setState({ modal: false });\n\n  render() {\n    const { modal, primary, secondary, userColors } = this.state;\n\n    return (\n      <Sidebar\n        as={Menu}\n        icon=\"labeled\"\n        inverted\n        vertical\n        visible\n        width=\"very thin\"\n      >\n        <Divider />\n        <Button icon=\"add\" size=\"small\" color=\"blue\" onClick={this.openModal} />\n        {this.displayUserColors(userColors)}\n\n        {/* Color Picker Modal */}\n        <Modal basic open={modal} onClose={this.closeModal}>\n          <Modal.Header>Choose App Colors</Modal.Header>\n          <Modal.Content>\n            <Segment inverted>\n              <Label content=\"Primary Color\" />\n              <SliderPicker\n                color={primary}\n                onChange={this.handleChangePrimary}\n              />\n            </Segment>\n\n            <Segment inverted>\n              <Label content=\"Secondary Color\" />\n              <SliderPicker\n                color={secondary}\n                onChange={this.handleChangeSecondary}\n              />\n            </Segment>\n          </Modal.Content>\n          <Modal.Actions>\n            <Button color=\"green\" inverted onClick={this.handleSaveColors}>\n              <Icon name=\"checkmark\" /> Save Colors\n            </Button>\n            <Button color=\"red\" inverted onClick={this.closeModal}>\n              <Icon name=\"remove\" /> Cancel\n            </Button>\n          </Modal.Actions>\n        </Modal>\n      </Sidebar>\n    );\n  }\n}\n\nexport default connect(\n  null,\n  { setColors }\n)(ColorPanel);\n","import React from \"react\";\nimport firebase from \"../../firebase\";\nimport AvatarEditor from \"react-avatar-editor\";\n// prettier-ignore\nimport { Grid, Header, Icon, Dropdown, Image, Modal, Input, Button } from \"semantic-ui-react\";\n\nclass UserPanel extends React.Component {\n  state = {\n    user: this.props.currentUser,\n    modal: false,\n    previewImage: \"\",\n    croppedImage: \"\",\n    blob: null,\n    uploadedCroppedImage: \"\",\n    storageRef: firebase.storage().ref(),\n    userRef: firebase.auth().currentUser,\n    usersRef: firebase.database().ref(\"users\"),\n    metadata: {\n      contentType: \"image/jpeg\"\n    }\n  };\n\n  openModal = () => this.setState({ modal: true });\n\n  closeModal = () => this.setState({ modal: false });\n\n  dropdownOptions = () => [\n    {\n      key: \"user\",\n      text: (\n        <span>\n          Signed in as <strong>{this.state.user.displayName}</strong>\n        </span>\n      ),\n      disabled: true\n    },\n    {\n      key: \"avatar\",\n      text: <span onClick={this.openModal}>Change Avatar</span>\n    },\n    {\n      key: \"signout\",\n      text: <span onClick={this.handleSignout}>Sign Out</span>\n    }\n  ];\n\n  uploadCroppedImage = () => {\n    const { storageRef, userRef, blob, metadata } = this.state;\n\n    storageRef\n      .child(`avatars/users/${userRef.uid}`)\n      .put(blob, metadata)\n      .then(snap => {\n        snap.ref.getDownloadURL().then(downloadURL => {\n          this.setState({ uploadedCroppedImage: downloadURL }, () =>\n            this.changeAvatar()\n          );\n        });\n      });\n  };\n\n  changeAvatar = () => {\n    this.state.userRef\n      .updateProfile({\n        photoURL: this.state.uploadedCroppedImage\n      })\n      .then(() => {\n        console.log(\"PhotoURL updated\");\n        this.closeModal();\n      })\n      .catch(err => {\n        console.error(err);\n      });\n\n    this.state.usersRef\n      .child(this.state.user.uid)\n      .update({ avatar: this.state.uploadedCroppedImage })\n      .then(() => {\n        console.log(\"User avatar updated\");\n      })\n      .catch(err => {\n        console.error(err);\n      });\n  };\n\n  handleChange = event => {\n    const file = event.target.files[0];\n    const reader = new FileReader();\n\n    if (file) {\n      reader.readAsDataURL(file);\n      reader.addEventListener(\"load\", () => {\n        this.setState({ previewImage: reader.result });\n      });\n    }\n  };\n\n  handleCropImage = () => {\n    if (this.avatarEditor) {\n      this.avatarEditor.getImageScaledToCanvas().toBlob(blob => {\n        let imageUrl = URL.createObjectURL(blob);\n        this.setState({\n          croppedImage: imageUrl,\n          blob\n        });\n      });\n    }\n  };\n\n  handleSignout = () => {\n    firebase\n      .auth()\n      .signOut()\n      .then(() => console.log(\"signed out!\"));\n  };\n\n  render() {\n    const { user, modal, previewImage, croppedImage } = this.state;\n    const { primaryColor } = this.props;\n\n    return (\n      <Grid style={{ background: primaryColor }}>\n        <Grid.Column>\n          <Grid.Row style={{ padding: \"1.2em\", margin: 0 }}>\n            {/* App Header */}\n            <Header inverted floated=\"left\" as=\"h2\">\n              <Icon name=\"code\" />\n              <Header.Content>Chat</Header.Content>\n            </Header>\n\n            {/* User Dropdown  */}\n            <Header style={{ padding: \"0.25em\" }} as=\"h4\" inverted>\n              <Dropdown\n                trigger={\n                  <span>\n                    <Image src={user.photoURL} spaced=\"right\" avatar />\n                    {user.displayName}\n                  </span>\n                }\n                options={this.dropdownOptions()}\n              />\n            </Header>\n          </Grid.Row>\n\n          {/* Change User Avatar Modal   */}\n          <Modal basic open={modal} onClose={this.closeModal}>\n            <Modal.Header>Change Avatar</Modal.Header>\n            <Modal.Content>\n              <Input\n                onChange={this.handleChange}\n                fluid\n                type=\"file\"\n                label=\"New Avatar\"\n                name=\"previewImage\"\n              />\n              <Grid centered stackable columns={2}>\n                <Grid.Row centered>\n                  <Grid.Column className=\"ui center aligned grid\">\n                    {previewImage && (\n                      <AvatarEditor\n                        ref={node => (this.avatarEditor = node)}\n                        image={previewImage}\n                        width={120}\n                        height={120}\n                        border={50}\n                        scale={1.2}\n                      />\n                    )}\n                  </Grid.Column>\n                  <Grid.Column>\n                    {croppedImage && (\n                      <Image\n                        style={{ margin: \"3.5em auto\" }}\n                        width={100}\n                        height={100}\n                        src={croppedImage}\n                      />\n                    )}\n                  </Grid.Column>\n                </Grid.Row>\n              </Grid>\n            </Modal.Content>\n            <Modal.Actions>\n              {croppedImage && (\n                <Button\n                  color=\"green\"\n                  inverted\n                  onClick={this.uploadCroppedImage}\n                >\n                  <Icon name=\"save\" /> Change Avatar\n                </Button>\n              )}\n              <Button color=\"green\" inverted onClick={this.handleCropImage}>\n                <Icon name=\"image\" /> Preview\n              </Button>\n              <Button color=\"red\" inverted onClick={this.closeModal}>\n                <Icon name=\"remove\" /> Cancel\n              </Button>\n            </Modal.Actions>\n          </Modal>\n        </Grid.Column>\n      </Grid>\n    );\n  }\n}\n\nexport default UserPanel;\n","import React from \"react\";\nimport firebase from \"../../firebase\";\nimport { connect } from \"react-redux\";\nimport { setCurrentChannel, setPrivateChannel } from \"../../actions\";\nimport {\n  Menu,\n  Icon,\n  Modal,\n  Form,\n  Input,\n  Button,\n  Label\n} from \"semantic-ui-react\";\n\nclass Channels extends React.Component {\n  state = {\n    activeChannel: \"\",\n    user: this.props.currentUser,\n    channel: null,\n    channels: [],\n    channelName: \"\",\n    channelDetails: \"\",\n    channelsRef: firebase.database().ref(\"channels\"),\n    messagesRef: firebase.database().ref(\"messages\"),\n    typingRef: firebase.database().ref(\"typing\"),\n    notifications: [],\n    modal: false,\n    firstLoad: true\n  };\n\n  componentDidMount() {\n    this.addListeners();\n  }\n\n  componentWillUnmount() {\n    this.removeListeners();\n  }\n\n  addListeners = () => {\n    let loadedChannels = [];\n    this.state.channelsRef.on(\"child_added\", snap => {\n      loadedChannels.push(snap.val());\n      this.setState({ channels: loadedChannels }, () => this.setFirstChannel());\n      this.addNotificationListener(snap.key);\n    });\n  };\n\n  addNotificationListener = channelId => {\n    this.state.messagesRef.child(channelId).on(\"value\", snap => {\n      if (this.state.channel) {\n        this.handleNotifications(\n          channelId,\n          this.state.channel.id,\n          this.state.notifications,\n          snap\n        );\n      }\n    });\n  };\n\n  handleNotifications = (channelId, currentChannelId, notifications, snap) => {\n    let lastTotal = 0;\n\n    let index = notifications.findIndex(\n      notification => notification.id === channelId\n    );\n\n    if (index !== -1) {\n      if (channelId !== currentChannelId) {\n        lastTotal = notifications[index].total;\n\n        if (snap.numChildren() - lastTotal > 0) {\n          notifications[index].count = snap.numChildren() - lastTotal;\n        }\n      }\n      notifications[index].lastKnownTotal = snap.numChildren();\n    } else {\n      notifications.push({\n        id: channelId,\n        total: snap.numChildren(),\n        lastKnownTotal: snap.numChildren(),\n        count: 0\n      });\n    }\n\n    this.setState({ notifications });\n  };\n\n  removeListeners = () => {\n    this.state.channelsRef.off();\n    this.state.channel.forEach(channel => {\n      this.state.messagesRef.child(channel.id).off();\n    })\n  };\n\n  setFirstChannel = () => {\n    const firstChannel = this.state.channels[0];\n    if (this.state.firstLoad && this.state.channels.length > 0) {\n      this.props.setCurrentChannel(firstChannel);\n      this.setActiveChannel(firstChannel);\n      this.setState({ channel: firstChannel });\n    }\n    this.setState({ firstLoad: false });\n  };\n\n  addChannel = () => {\n    const { channelsRef, channelName, channelDetails, user } = this.state;\n\n    const key = channelsRef.push().key;\n\n    const newChannel = {\n      id: key,\n      name: channelName,\n      details: channelDetails,\n      createdBy: {\n        name: user.displayName,\n        avatar: user.photoURL\n      }\n    };\n\n    channelsRef\n      .child(key)\n      .update(newChannel)\n      .then(() => {\n        this.setState({ channelName: \"\", channelDetails: \"\" });\n        this.closeModal();\n        console.log(\"channel added\");\n      })\n      .catch(err => {\n        console.error(err);\n      });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    if (this.isFormValid(this.state)) {\n      this.addChannel();\n    }\n  };\n\n  handleChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  changeChannel = channel => {\n    this.setActiveChannel(channel);\n    this.state.typingRef\n      .child(this.state.channel.id)\n      .child(this.state.user.uid)\n      .remove();\n    this.clearNotifications();\n    this.props.setCurrentChannel(channel);\n    this.props.setPrivateChannel(false);\n    this.setState({ channel });\n  };\n\n  clearNotifications = () => {\n    let index = this.state.notifications.findIndex(\n      notification => notification.id === this.state.channel.id\n    );\n\n    if (index !== -1) {\n      let updatedNotifications = [...this.state.notifications];\n      updatedNotifications[index].total = this.state.notifications[\n        index\n      ].lastKnownTotal;\n      updatedNotifications[index].count = 0;\n      this.setState({ notifications: updatedNotifications });\n    }\n  };\n\n  setActiveChannel = channel => {\n    this.setState({ activeChannel: channel.id });\n  };\n\n  getNotificationCount = channel => {\n    let count = 0;\n\n    this.state.notifications.forEach(notification => {\n      if (notification.id === channel.id) {\n        count = notification.count;\n      }\n    });\n\n    if (count > 0) return count;\n  };\n\n  displayChannels = channels =>\n    channels.length > 0 &&\n    channels.map(channel => (\n      <Menu.Item\n        key={channel.id}\n        onClick={() => this.changeChannel(channel)}\n        name={channel.name}\n        style={{ opacity: 0.7 }}\n        active={channel.id === this.state.activeChannel}\n      >\n        {this.getNotificationCount(channel) && (\n          <Label color=\"red\">{this.getNotificationCount(channel)}</Label>\n        )}\n        # {channel.name}\n      </Menu.Item>\n    ));\n\n  isFormValid = ({ channelName, channelDetails }) =>\n    channelName && channelDetails;\n\n  openModal = () => this.setState({ modal: true });\n\n  closeModal = () => this.setState({ modal: false });\n\n  render() {\n    const { channels, modal } = this.state;\n\n    return (\n      <React.Fragment>\n        <Menu.Menu className=\"menu\">\n          <Menu.Item>\n            <span>\n              <Icon name=\"exchange\" /> CHANNELS\n            </span>{\" \"}\n            ({channels.length}) <Icon name=\"add\" onClick={this.openModal} />\n          </Menu.Item>\n          {this.displayChannels(channels)}\n        </Menu.Menu>\n\n        {/* Add Channel Modal */}\n        <Modal basic open={modal} onClose={this.closeModal}>\n          <Modal.Header>Add a Channel</Modal.Header>\n          <Modal.Content>\n            <Form onSubmit={this.handleSubmit}>\n              <Form.Field>\n                <Input\n                  fluid\n                  label=\"Name of Channel\"\n                  name=\"channelName\"\n                  onChange={this.handleChange}\n                />\n              </Form.Field>\n\n              <Form.Field>\n                <Input\n                  fluid\n                  label=\"About the Channel\"\n                  name=\"channelDetails\"\n                  onChange={this.handleChange}\n                />\n              </Form.Field>\n            </Form>\n          </Modal.Content>\n\n          <Modal.Actions>\n            <Button color=\"green\" inverted onClick={this.handleSubmit}>\n              <Icon name=\"checkmark\" /> Add\n            </Button>\n            <Button color=\"red\" inverted onClick={this.closeModal}>\n              <Icon name=\"remove\" /> Cancel\n            </Button>\n          </Modal.Actions>\n        </Modal>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default connect(\n  null,\n  { setCurrentChannel, setPrivateChannel }\n)(Channels);\n","import React from \"react\";\nimport firebase from \"../../firebase\";\nimport { connect } from \"react-redux\";\nimport { setCurrentChannel, setPrivateChannel } from \"../../actions\";\nimport { Menu, Icon } from \"semantic-ui-react\";\n\nclass DirectMessages extends React.Component {\n  state = {\n    activeChannel: \"\",\n    user: this.props.currentUser,\n    users: [],\n    usersRef: firebase.database().ref(\"users\"),\n    connectedRef: firebase.database().ref(\".info/connected\"),\n    presenceRef: firebase.database().ref(\"presence\")\n  };\n\n  componentDidMount() {\n    if (this.state.user) {\n      this.addListeners(this.state.user.uid);\n    }\n  }\n\n  componentWillUnmount() {\n    this.removeListeners();\n  }\n\n  removeListeners = () => {\n    this.state.usersRef.off();\n    this.state.presenceRef.off();\n    this.state.connectedRef.off();\n  };\n\n  addListeners = currentUserUid => {\n    let loadedUsers = [];\n    this.state.usersRef.on(\"child_added\", snap => {\n      if (currentUserUid !== snap.key) {\n        let user = snap.val();\n        user[\"uid\"] = snap.key;\n        user[\"status\"] = \"offline\";\n        loadedUsers.push(user);\n        this.setState({ users: loadedUsers });\n      }\n    });\n\n    this.state.connectedRef.on(\"value\", snap => {\n      if (snap.val() === true) {\n        const ref = this.state.presenceRef.child(currentUserUid);\n        ref.set(true);\n        ref.onDisconnect().remove(err => {\n          if (err !== null) {\n            console.error(err);\n          }\n        });\n      }\n    });\n\n    this.state.presenceRef.on(\"child_added\", snap => {\n      if (currentUserUid !== snap.key) {\n        this.addStatusToUser(snap.key);\n      }\n    });\n\n    this.state.presenceRef.on(\"child_removed\", snap => {\n      if (currentUserUid !== snap.key) {\n        this.addStatusToUser(snap.key, false);\n      }\n    });\n  };\n\n  addStatusToUser = (userId, connected = true) => {\n    const updatedUsers = this.state.users.reduce((acc, user) => {\n      if (user.uid === userId) {\n        user[\"status\"] = `${connected ? \"online\" : \"offline\"}`;\n      }\n      return acc.concat(user);\n    }, []);\n    this.setState({ users: updatedUsers });\n  };\n\n  isUserOnline = user => user.status === \"online\";\n\n  changeChannel = user => {\n    const channelId = this.getChannelId(user.uid);\n    const channelData = {\n      id: channelId,\n      name: user.name\n    };\n    this.props.setCurrentChannel(channelData);\n    this.props.setPrivateChannel(true);\n    this.setActiveChannel(user.uid);\n  };\n\n  getChannelId = userId => {\n    const currentUserId = this.state.user.uid;\n    return userId < currentUserId\n      ? `${userId}/${currentUserId}`\n      : `${currentUserId}/${userId}`;\n  };\n\n  setActiveChannel = userId => {\n    this.setState({ activeChannel: userId });\n  };\n\n  render() {\n    const { users, activeChannel } = this.state;\n\n    return (\n      <Menu.Menu className=\"menu\">\n        <Menu.Item>\n          <span>\n            <Icon name=\"mail\" /> DIRECT MESSAGES\n          </span>{\" \"}\n          ({users.length})\n        </Menu.Item>\n        {users.map(user => (\n          <Menu.Item\n            key={user.uid}\n            active={user.uid === activeChannel}\n            onClick={() => this.changeChannel(user)}\n            style={{ opacity: 0.7, fontStyle: \"italic\" }}\n          >\n            <Icon\n              name=\"circle\"\n              color={this.isUserOnline(user) ? \"green\" : \"red\"}\n            />\n            @ {user.name}\n          </Menu.Item>\n        ))}\n      </Menu.Menu>\n    );\n  }\n}\n\nexport default connect(\n  null,\n  { setCurrentChannel, setPrivateChannel }\n)(DirectMessages);\n","import React from \"react\";\r\nimport firebase from \"../../firebase\";\r\nimport { connect } from \"react-redux\";\r\nimport { setCurrentChannel, setPrivateChannel } from \"../../actions\";\r\nimport { Menu, Icon } from \"semantic-ui-react\";\r\n\r\nclass Starred extends React.Component {\r\n    state = {\r\n        user: this.props.currentUser,\r\n        usersRef: firebase.database().ref(\"users\"),\r\n        activeChannel:\"\",\r\n        starredChannels: []\r\n    };\r\n\r\n    componentDidMount() {\r\n        if(this.state.user) {\r\n            this.addListeners(this.state.user.uid);\r\n        }    \r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this.removeListener();\r\n    }\r\n\r\n    removeListener = () => {\r\n        this.state.usersRef.child(`${this.state.user.uid}/starred`).off();\r\n    }\r\n\r\n    addListeners = userId => {\r\n        this.state.usersRef\r\n        .child(userId)\r\n        .child(\"starred\")\r\n        .on(\"child_added\", snap => {\r\n            const starredChannel = { id: snap.key, ...snap.val() };\r\n            this.setState ({\r\n                starredChannels: [...this.state.starredChannels, starredChannel]\r\n            });\r\n        });\r\n    this.state.usersRef\r\n        .child(userId)\r\n        .child(\"starred\")\r\n        .on (\"child_removed\", snap => {\r\n            const channelToRemove = { id: snap.key, ...snap.val()};\r\n            const filteredChannels = this.state.starredChannels.filter(channel => {\r\n                return channel.id !== channelToRemove.id;\r\n            });\r\n            this.setState({ starredChannels: filteredChannels});\r\n        });\r\n    }\r\n\r\n    setActiveChannel = channel => {\r\n        this.setState({ activeChannel: channel.id });\r\n    };\r\n\r\n    changeChannel = channel => {\r\n        this.setActiveChannel(channel);\r\n        this.props.setCurrentChannel(channel);\r\n        this.props.setPrivateChannel(false);\r\n    };\r\n\r\n    displayChannels = starredChannels =>\r\n    starredChannels.length > 0 &&\r\n    starredChannels.map(channel => (\r\n      <Menu.Item\r\n        key={channel.id}\r\n        onClick={() => this.changeChannel(channel)}\r\n        name={channel.name}\r\n        style={{ opacity: 0.7 }}\r\n        active={channel.id === this.state.activeChannel}\r\n      >\r\n        # {channel.name}\r\n      </Menu.Item>\r\n    ));\r\n\r\n    render() {\r\n        const { starredChannels, modal } =  this.state;\r\n\r\n        return(\r\n            <Menu.Menu className=\"menu\">\r\n                <Menu.Item>\r\n                <span>\r\n                    <Icon name=\"star\" /> STARRED\r\n                </span>{\" \"}\r\n                ({starredChannels.length}) \r\n                </Menu.Item>\r\n                {this.displayChannels(starredChannels)}\r\n            </Menu.Menu>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    null,\r\n    { setCurrentChannel, setPrivateChannel }\r\n)(Starred);","import React from \"react\";\nimport { Menu } from \"semantic-ui-react\";\n\nimport UserPanel from \"./UserPanel\";\nimport Channels from \"./Channels\";\nimport DirectMessages from \"./DirectMessages\";\nimport Starred from \"./Starred\";\n\nclass SidePanel extends React.Component {\n  render() {\n    const { currentUser, primaryColor } = this.props;\n\n    return (\n      <Menu\n        size=\"large\"\n        inverted\n        fixed=\"left\"\n        vertical\n        style={{ background: primaryColor, fontSize: \"1.2rem\" }}\n      >\n        <UserPanel primaryColor={primaryColor} currentUser={currentUser} />\n        <Starred currentUser={currentUser} />\n        <Channels currentUser={currentUser} />\n        <DirectMessages currentUser={currentUser} />\n      </Menu>\n    );\n  }\n}\n\nexport default SidePanel;\n","import React from \"react\";\nimport { Header, Segment, Input, Icon } from \"semantic-ui-react\";\n\nclass MessagesHeader extends React.Component {\n  render() {\n    const {\n      channelName,\n      numUniqueUsers,\n      handleSearchChange,\n      searchLoading,\n      isPrivateChannel,\n      handleStar,\n      isChannelStarred\n    } = this.props;\n\n    return (\n      <Segment clearing>\n        {/* Channel Title */}\n        <Header fluid=\"true\" as=\"h2\" floated=\"left\" style={{ marginBottom: 0 }}>\n          <span>\n            {channelName}\n            {!isPrivateChannel && (\n              <Icon \n                onClick={handleStar}\n                name={isChannelStarred? \"star\" : \"star outline\"} \n                color={isChannelStarred ? \"yellow\" : \"black\"} \n              />\n            )}\n          </span>\n          <Header.Subheader>{numUniqueUsers}</Header.Subheader>\n        </Header>\n\n        {/* Channel Search Input */}\n        <Header floated=\"right\">\n          <Input\n            loading={searchLoading}\n            onChange={handleSearchChange}\n            size=\"mini\"\n            icon=\"search\"\n            name=\"searchTerm\"\n            placeholder=\"Search Messages\"\n          />\n        </Header>\n      </Segment>\n    );\n  }\n}\n\nexport default MessagesHeader;\n","import React from \"react\";\nimport mime from \"mime-types\";\nimport { Modal, Input, Button, Icon } from \"semantic-ui-react\";\n\nclass FileModal extends React.Component {\n  state = {\n    file: null,\n    authorized: [\"image/jpeg\", \"image/png\"]\n  };\n\n  addFile = event => {\n    const file = event.target.files[0];\n    if (file) {\n      this.setState({ file });\n    }\n  };\n\n  sendFile = () => {\n    const { file } = this.state;\n    const { uploadFile, closeModal } = this.props;\n\n    if (file !== null) {\n      if (this.isAuthorized(file.name)) {\n        const metadata = { contentType: mime.lookup(file.name) };\n        uploadFile(file, metadata);\n        closeModal();\n        this.clearFile();\n      }\n    }\n  };\n\n  isAuthorized = filename =>\n    this.state.authorized.includes(mime.lookup(filename));\n\n  clearFile = () => this.setState({ file: null });\n\n  render() {\n    const { modal, closeModal } = this.props;\n\n    return (\n      <Modal basic open={modal} onClose={closeModal}>\n        <Modal.Header>Select an Image File</Modal.Header>\n        <Modal.Content>\n          <Input\n            onChange={this.addFile}\n            fluid\n            label=\"File types: jpg, png\"\n            name=\"file\"\n            type=\"file\"\n          />\n        </Modal.Content>\n        <Modal.Actions>\n          <Button onClick={this.sendFile} color=\"green\" inverted>\n            <Icon name=\"checkmark\" /> Send\n          </Button>\n          <Button color=\"red\" inverted onClick={closeModal}>\n            <Icon name=\"remove\" /> Cancel\n          </Button>\n        </Modal.Actions>\n      </Modal>\n    );\n  }\n}\n\nexport default FileModal;\n","import React from \"react\";\nimport { Progress } from \"semantic-ui-react\";\n\nconst ProgressBar = ({ uploadState, percentUploaded }) =>\n  uploadState === \"uploading\" && (\n    <Progress\n      className=\"progress__bar\"\n      percent={percentUploaded}\n      progress\n      indicating\n      size=\"medium\"\n      inverted\n    />\n  );\n\nexport default ProgressBar;\n","import React from \"react\";\nimport uuidv4 from \"uuid/v4\";\nimport firebase from \"../../firebase\";\nimport { Segment, Button, Input } from \"semantic-ui-react\";\nimport { Picker, emojiIndex } from \"emoji-mart\";\nimport \"emoji-mart/css/emoji-mart.css\";\n\nimport FileModal from \"./FileModal\";\nimport ProgressBar from \"./ProgressBar\";\n\nclass MessageForm extends React.Component {\n  state = {\n    storageRef: firebase.storage().ref(),\n    typingRef: firebase.database().ref(\"typing\"),\n    uploadTask: null,\n    uploadState: \"\",\n    percentUploaded: 0,\n    message: \"\",\n    channel: this.props.currentChannel,\n    user: this.props.currentUser,\n    loading: false,\n    errors: [],\n    modal: false,\n    emojiPicker: false\n  };\n\n  componentWillUnmount() {\n    if(this.state.uploadTask !== null) {\n      this.state.uploadTask.cancel();\n      this.setState({ uploadTask: null });\n    }\n  }\n\n  openModal = () => this.setState({ modal: true });\n\n  closeModal = () => this.setState({ modal: false });\n\n  handleChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  handleKeyDown = event => {\n    if(event.keyCode === 13) {\n      this.sendMessage();\n    }\n\n    const { message, typingRef, channel, user } = this.state;\n\n    if (message) {\n      typingRef\n        .child(channel.id)\n        .child(user.uid)\n        .set(user.displayName);\n    } else {\n      typingRef\n        .child(channel.id)\n        .child(user.uid)\n        .remove();\n    }\n  };\n\n  handleTogglePicker = () => {\n    this.setState({ emojiPicker: !this.state.emojiPicker });\n  }\n\n  handleAddEmoji = emoji => {\n    const oldMessage = this.state.message;\n    const newMessage = this.colonToUnicode(`${oldMessage} ${emoji.colons}`);\n    this.setState({ message: newMessage, emojiPicker: false });\n    setTimeout (() => this.messageInputRef.focus(), 0);\n  }\n\n  colonToUnicode = message => {\n    return message.replace(/:[A-Za-z0-9_+-]+:/g, x => {\n      x = x.replace(/:/g, \"\");\n      let emoji = emojiIndex.emojis[x];\n      if( typeof emoji !== \"undefined\") {\n        let unicode = emoji.native;\n        if(typeof unicode !== \"undefined\"){\n          return unicode;\n        }\n      }\n      x = \":\" + x + \":\";\n    });\n  };\n\n  createMessage = (fileUrl = null) => {\n    const message = {\n      timestamp: firebase.database.ServerValue.TIMESTAMP,\n      user: {\n        id: this.state.user.uid,\n        name: this.state.user.displayName,\n        avatar: this.state.user.photoURL\n      }\n    };\n    if (fileUrl !== null) {\n      message[\"image\"] = fileUrl;\n    } else {\n      message[\"content\"] = this.state.message;\n    }\n    return message;\n  };\n\n  sendMessage = () => {\n    const { getMessagesRef } = this.props;\n    const { message, channel, user, typingRef } = this.state;\n\n    if (message) {\n      this.setState({ loading: true });\n      getMessagesRef()\n        .child(channel.id)\n        .push()\n        .set(this.createMessage())\n        .then(() => {\n          this.setState({ loading: false, message: \"\", errors: [] });\n          typingRef\n            .child(channel.id)\n            .child(user.uid)\n            .remove();\n        })\n        .catch(err => {\n          console.error(err);\n          this.setState({\n            loading: false,\n            errors: this.state.errors.concat(err)\n          });\n        });\n    } else {\n      this.setState({\n        errors: this.state.errors.concat({ message: \"Add a message\" })\n      });\n    }\n  };\n\n  getPath = () => {\n    if (this.props.isPrivateChannel) {\n      return `chat/private/${this.state.channel.id}`;\n    } else {\n      return \"chat/public\";\n    }\n  };\n\n  uploadFile = (file, metadata) => {\n    const pathToUpload = this.state.channel.id;\n    const ref = this.props.getMessagesRef();\n    const filePath = `${this.getPath()}/${uuidv4()}.jpg`;\n\n    this.setState(\n      {\n        uploadState: \"uploading\",\n        uploadTask: this.state.storageRef.child(filePath).put(file, metadata)\n      },\n      () => {\n        this.state.uploadTask.on(\n          \"state_changed\",\n          snap => {\n            const percentUploaded = Math.round(\n              (snap.bytesTransferred / snap.totalBytes) * 100\n            );\n            this.setState({ percentUploaded });\n          },\n          err => {\n            console.error(err);\n            this.setState({\n              errors: this.state.errors.concat(err),\n              uploadState: \"error\",\n              uploadTask: null\n            });\n          },\n          () => {\n            this.state.uploadTask.snapshot.ref\n              .getDownloadURL()\n              .then(downloadUrl => {\n                this.sendFileMessage(downloadUrl, ref, pathToUpload);\n              })\n              .catch(err => {\n                console.error(err);\n                this.setState({\n                  errors: this.state.errors.concat(err),\n                  uploadState: \"error\",\n                  uploadTask: null\n                });\n              });\n          }\n        );\n      }\n    );\n  };\n\n  sendFileMessage = (fileUrl, ref, pathToUpload) => {\n    ref\n      .child(pathToUpload)\n      .push()\n      .set(this.createMessage(fileUrl))\n      .then(() => {\n        this.setState({ uploadState: \"done\" });\n      })\n      .catch(err => {\n        console.error(err);\n        this.setState({\n          errors: this.state.errors.concat(err)\n        });\n      });\n  };\n\n  render() {\n    // prettier-ignore\n    const { errors, message, loading, modal, uploadState, percentUploaded,\n    emojiPicker } = this.state;\n\n    return (\n      <Segment className=\"message__form\">\n        {emojiPicker && (\n          <Picker \n            set=\"apple\"\n            onSelect={this.handleAddEmoji}\n            className=\"emojiPIcker\"\n            title=\"Pick your emoji\"\n            emoji=\"point_up\"\n          />\n        )}\n        <Input\n          fluid\n          name=\"message\"\n          onChange={this.handleChange}\n          onKeyDown={this.handleKeyDown}\n          value={message}\n          ref={node => (this.messageInputRef = node)}\n          style={{ marginBottom: \"0.7em\" }}\n          label={\n            <Button \n              icon={emojiPicker ? \"close\" : \"add\"} \n              content={emojiPicker ? \"close\" : null}\n              onClick={this.handleTogglePicker}\n            />}          \n          labelPosition=\"left\"\n          className={\n            errors.some(error => error.message.includes(\"message\"))\n              ? \"error\"\n              : \"\"\n          }\n          placeholder=\"Write your message\"\n        />\n        <Button.Group icon widths=\"2\">\n          <Button\n            onClick={this.sendMessage}\n            disabled={loading}\n            color=\"orange\"\n            content=\"Add Reply\"\n            labelPosition=\"left\"\n            icon=\"edit\"\n          />\n          <Button\n            color=\"teal\"\n            disabled={uploadState === \"uploading\"}\n            onClick={this.openModal}\n            content=\"Upload Media\"\n            labelPosition=\"right\"\n            icon=\"cloud upload\"\n          />\n        </Button.Group>\n        <FileModal\n          modal={modal}\n          closeModal={this.closeModal}\n          uploadFile={this.uploadFile}\n        />\n        <ProgressBar\n          uploadState={uploadState}\n          percentUploaded={percentUploaded}\n        />\n      </Segment>\n    );\n  }\n}\n\nexport default MessageForm;\n","import React from \"react\";\nimport moment from \"moment\";\nimport { Comment, Image } from \"semantic-ui-react\";\n\nconst isOwnMessage = (message, user) => {\n  return message.user.id === user.uid ? \"message__self\" : \"\";\n};\n\nconst isImage = message => {\n  return message.hasOwnProperty(\"image\") && !message.hasOwnProperty(\"content\");\n};\n\nconst timeFromNow = timestamp => moment(timestamp).fromNow();\n\nconst Message = ({ message, user }) => (\n  <Comment>\n    <Comment.Avatar src={message.user.avatar} />\n    <Comment.Content className={isOwnMessage(message, user)}>\n      <Comment.Author as=\"a\">{message.user.name}</Comment.Author>\n      <Comment.Metadata>{timeFromNow(message.timestamp)}</Comment.Metadata>\n      {isImage(message) ? (\n        <Image src={message.image} className=\"message__image\" />\n      ) : (\n        <Comment.Text>{message.content}</Comment.Text>\n      )}\n    </Comment.Content>\n  </Comment>\n);\n\nexport default Message;\n","import React from \"react\" ;\r\n\r\nconst Typing = () => (\r\n     <div className=\"typing\">\r\n         <div className=\"typing__dot\"></div>\r\n         <div className=\"typing__dot\"></div>\r\n         <div className=\"typing__dot\"></div>\r\n     </div>\r\n)\r\n\r\nexport default Typing;","import React from \"react\";\r\n\r\nconst Skeleton = () => (\r\n    <div className=\"skeleton\">\r\n        <div className=\"skeleton__avatar\"></div>\r\n        <div className=\"skeleton__author\"></div>\r\n        <div className=\"skeleton__details\"></div>\r\n    </div>\r\n)\r\n\r\nexport default Skeleton;","import React from \"react\";\nimport { Segment, Comment } from \"semantic-ui-react\";\nimport { connect } from \"react-redux\";\nimport { setUserPosts } from \"../../actions\";\nimport firebase from \"../../firebase\";\n\nimport MessagesHeader from \"./MessagesHeader\";\nimport MessageForm from \"./MessageForm\";\nimport Message from \"./Message\";\nimport Typing from \"./Typing\";\nimport Skeleton from \"./skeleton\";\n\nclass Messages extends React.Component {\n  state = {\n    privateChannel: this.props.isPrivateChannel,\n    privateMessagesRef: firebase.database().ref(\"privateMessages\"),\n    messagesRef: firebase.database().ref(\"messages\"),\n    messages: [],\n    messagesLoading: true,\n    channel: this.props.currentChannel,\n    isChannelStarred: false,\n    user: this.props.currentUser,\n    usersRef: firebase.database().ref(\"users\"),\n    numUniqueUsers: \"\",\n    searchTerm: \"\",\n    searchLoading: false,\n    searchResults: [],\n    typingRef: firebase.database().ref(\"typing\"),\n    typingUsers: [],\n    connectedRef: firebase.database().ref(\".info/connected\"),\n    listeners: []\n  };\n\n  componentDidMount() {\n    const { channel, user, listeners } = this.state;\n\n    if (channel && user) {\n      this.removeListeners(listeners)\n      this.addListeners(channel.id);\n      this.addUserStarsListener(channel.id, user.uid);\n    }\n  }\n\n  addToListeners = (id, ref, event) => {\n    const index = this.state.listeners.findIndex(listener => {\n      return listener.id === id && listener.ref === ref && listener.event === \n      event;\n    })\n\n    if(index === -1){\n      const newListener = {id, ref, event}\n      this.setState({ listeners: this.state.listeners.concat(newListener) });\n    }\n  }\n\n  componentWillUnmount() {\n    this.removeListeners(this.state.listeners);\n    this.state.connectedRef.off();\n  }\n\n  removeListeners = listeners => {\n    listeners.forEach(listener => {\n      listener.ref.child(listener.id).off(listener.event);\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.messagesEnd) {\n      this.scrollToBottom();\n    }\n  }\n\n  scrollToBottom = () => {\n    this.messagesEnd.scrollIntoView({behaviour: \"smooth\"});\n  }\n\n  addListeners = channelId => {\n    this.addMessageListener(channelId);\n    this.addTypingListeners(channelId);\n  };\n\n  addTypingListeners = channelId => {\n    let typingUsers = [];\n    this.state.typingRef.child(channelId).on(\"child_added\", snap => {\n      if (snap.key !== this.state.user.uid) {\n        typingUsers = typingUsers.concat({\n          id: snap.key,\n          name: snap.val()\n        });\n        this.setState({ typingUsers });\n      }\n    });\n\n    this.addToListeners(channelId, this.state.typingRef, \"child_added\");\n\n    this.state.typingRef.child(channelId).on(\"child_removed\", snap => {\n      const index = typingUsers.findIndex(user => user.id === snap.key);\n      if (index !== -1) {\n        typingUsers = typingUsers.filter(user => user.id !== snap.key);\n        this.setState({ typingUsers });\n      }\n    });\n\n    this.addToListeners(channelId, this.state.typingRef, \"child_removed\");\n\n    this.state.connectedRef.on(\"value\", snap => {\n      if (snap.val() === true) {\n        this.state.typingRef\n          .child(channelId)\n          .child(this.state.user.uid)\n          .onDisconnect()\n          .remove(err => {\n            if (err !== null) {\n              console.error(err);\n            }\n          });\n      }\n    });\n  };\n\n  addMessageListener = channelId => {\n    let loadedMessages = [];\n    const ref = this.getMessagesRef();\n    ref.child(channelId).on(\"child_added\", snap => {\n      loadedMessages.push(snap.val());\n      this.setState({\n        messages: loadedMessages,\n        messagesLoading: false\n      });\n      this.countUniqueUsers(loadedMessages);\n      this.countUserPosts(loadedMessages);\n    });\n    this.addToListeners(channelId, ref, \"child_added\");\n  };\n\n  addUserStarsListener = (channelId, userId) => {\n    this.state.usersRef\n      .child(userId)\n      .child(\"starred\")\n      .once(\"value\")\n      .then(data => {\n        if (data.val() !== null) {\n          const channelIds = Object.keys(data.val());\n          const prevStarred = channelIds.includes(channelId);\n          this.setState({ isChannelStarred: prevStarred });\n        }\n      });\n  };\n\n  getMessagesRef = () => {\n    const { messagesRef, privateMessagesRef, privateChannel } = this.state;\n    return privateChannel ? privateMessagesRef : messagesRef;\n  };\n\n  handleStar = () => {\n    this.setState(\n      prevState => ({\n        isChannelStarred: !prevState.isChannelStarred\n      }),\n      () => this.starChannel()\n    );\n  };\n\n  starChannel = () => {\n    if (this.state.isChannelStarred) {\n      this.state.usersRef.child(`${this.state.user.uid}/starred`).update({\n        [this.state.channel.id]: {\n          name: this.state.channel.name,\n          details: this.state.channel.details,\n          createdBy: {\n            name: this.state.channel.createdBy.name,\n            avatar: this.state.channel.createdBy.avatar\n          }\n        }\n      });\n    } else {\n      this.state.usersRef\n        .child(`${this.state.user.uid}/starred`)\n        .child(this.state.channel.id)\n        .remove(err => {\n          if (err !== null) {\n            console.error(err);\n          }\n        });\n    }\n  };\n\n  handleSearchChange = event => {\n    this.setState(\n      {\n        searchTerm: event.target.value,\n        searchLoading: true\n      },\n      () => this.handleSearchMessages()\n    );\n  };\n\n  handleSearchMessages = () => {\n    const channelMessages = [...this.state.messages];\n    const regex = new RegExp(this.state.searchTerm, \"gi\");\n    const searchResults = channelMessages.reduce((acc, message) => {\n      if (\n        (message.content && message.content.match(regex)) ||\n        message.user.name.match(regex)\n      ) {\n        acc.push(message);\n      }\n      return acc;\n    }, []);\n    this.setState({ searchResults });\n    setTimeout(() => this.setState({ searchLoading: false }), 1000);\n  };\n\n  countUniqueUsers = messages => {\n    const uniqueUsers = messages.reduce((acc, message) => {\n      if (!acc.includes(message.user.name)) {\n        acc.push(message.user.name);\n      }\n      return acc;\n    }, []);\n    const plural = uniqueUsers.length > 1 || uniqueUsers.length === 0;\n    const numUniqueUsers = `${uniqueUsers.length} user${plural ? \"s\" : \"\"}`;\n    this.setState({ numUniqueUsers });\n  };\n\n  countUserPosts = messages => {\n    let userPosts = messages.reduce((acc, message) => {\n      if (message.user.name in acc) {\n        acc[message.user.name].count += 1;\n      } else {\n        acc[message.user.name] = {\n          avatar: message.user.avatar,\n          count: 1\n        };\n      }\n      return acc;\n    }, {});\n    this.props.setUserPosts(userPosts);\n  };\n\n  displayMessages = messages =>\n    messages.length > 0 &&\n    messages.map(message => (\n      <Message\n        key={message.timestamp}\n        message={message}\n        user={this.state.user}\n      />\n    ));\n\n  displayChannelName = channel => {\n    return channel\n      ? `${this.state.privateChannel ? \"@\" : \"#\"}${channel.name}`\n      : \"\";\n  };\n\n  displayTypingUsers = users =>\n    users.length > 0 &&\n    users.map(user => (\n      <div\n        style={{ display: \"flex\", alignItems: \"center\", marginBottom: \"0.2em\" }}\n        key={user.id}\n      >\n        <span className=\"user__typing\">{user.name} is typing</span> <Typing />\n      </div>\n    ));\n\n  displayMessageSkeleton = loading => {\n    loading ? (\n      <React.Fragment>\n        {[...Array(10)].map((_, i) => (\n          <Skeleton key={i}/>\n        ))}\n      </React.Fragment>\n    ) : null;\n  };\n\n  render() {\n    // prettier-ignore\n    const { messagesRef, messages, channel, user, numUniqueUsers, searchTerm, searchResults, \n    searchLoading, privateChannel, isChannelStarred, typingUsers, messagesLoading } \n    = this.state;\n\n    return (\n      <React.Fragment>\n        <MessagesHeader\n          channelName={this.displayChannelName(channel)}\n          numUniqueUsers={numUniqueUsers}\n          handleSearchChange={this.handleSearchChange}\n          searchLoading={searchLoading}\n          isPrivateChannel={privateChannel}\n          handleStar={this.handleStar}\n          isChannelStarred={isChannelStarred}\n        />\n\n        <Segment>\n          <Comment.Group className=\"messages\">\n            {this.displayMessageSkeleton(messagesLoading)}\n            {searchTerm\n              ? this.displayMessages(searchResults)\n              : this.displayMessages(messages)}\n            {this.displayTypingUsers(typingUsers)}\n            <div ref={node => (this.messagesEnd = node)}></div>\n          </Comment.Group>\n        </Segment>\n\n        <MessageForm\n          messagesRef={messagesRef}\n          currentChannel={channel}\n          currentUser={user}\n          isPrivateChannel={privateChannel}\n          getMessagesRef={this.getMessagesRef}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default connect(\n  null,\n  { setUserPosts }\n)(Messages);\n","import React from \"react\";\nimport { Segment, Header, Icon, Accordion, Image, List } from \"semantic-ui-react\";\n\nclass MetaPanel extends React.Component {\n  state = {\n    channel: this.props.currentChannel,\n    privateChannel: this.props.isPrivateChannel,\n    activeIndex: 0\n  }\n\n  setActiveIndex = (event, titleProps) => { \n    const { index } = titleProps;\n    const { activeIndex } = this.state;\n    const newIndex = activeIndex === index ? -1 : index;\n    this.setState({ activeIndex: newIndex });\n  }\n\n  formatCount = num => (num > 1 || num === 0) ? `${num} posts` : `${num} post`;\n\n  displayTopPosters = posts => (\n    Object.entries(posts)\n      .sort((a, b) => b[1] - a[1])\n      .map(([key, val], i) => (\n        <List.Item key={i}>\n        <Image avatar src={val.avatar}/>\n        <List.Content>\n          <List.Header as=\"a\">\n            {key}\n          </List.Header>\n          <List.Description as=\"a\">\n            {this.formatCount(val.count)}\n          </List.Description>\n        </List.Content>\n        </List.Item>\n    ))\n    .slice(0, 5)\n  )\n\n  render() {\n    const { activeIndex, privateChannel, channel } = this.state;\n    const { userPosts } = this.props;\n\n    if(privateChannel) return null;\n \n    return (\n      <Segment loading={!channel}>\n        <Header as=\"h3\" attached=\"top\">\n          About # {channel && channel.name}\n        </Header>\n        <Accordion styled attached=\"true\"> \n          <Accordion.Title\n            active={activeIndex === 0}\n            index={0}\n            onClick={this.setActiveIndex}\n          >\n            <Icon name=\"dropdown\" />\n            <Icon name=\"info\" />\n            Channel Details\n          </Accordion.Title>\n          <Accordion.Content active={activeIndex === 0}>\n            {channel && channel.details} \n          </Accordion.Content>\n\n          <Accordion.Title\n            active={activeIndex === 1}\n            index={1}\n            onClick={this.setActiveIndex}\n          >\n            <Icon name=\"dropdown\" />\n            <Icon name=\"user circle\" />\n            Top Posters\n          </Accordion.Title>\n          <Accordion.Content active={activeIndex === 1}>\n            <List>\n              { userPosts && this.displayTopPosters(userPosts) }\n            </List>             \n          </Accordion.Content>\n\n          <Accordion.Title\n            active={activeIndex === 2}\n            index={2}\n            onClick={this.setActiveIndex}\n          >\n            <Icon name=\"dropdown\" />\n            <Icon name=\"pencil alternate\" />\n            Created By\n          </Accordion.Title>\n          <Accordion.Content active={activeIndex === 2}>\n            <Header as=\"h3\">\n              <Image circular src={channel && channel.createdBy.avatar} /> \n              {channel && channel.createdBy.name}    \n            </Header>\n          </Accordion.Content>\n        </Accordion>\n      </Segment>\n    );\n  }\n}\n\nexport default MetaPanel;\n","import React from \"react\";\nimport { Grid } from \"semantic-ui-react\";\nimport \"./App.css\";\nimport { connect } from \"react-redux\";\n\nimport ColorPanel from \"./ColorPanel/ColorPanel\";\nimport SidePanel from \"./SidePanel/SidePanel\";\nimport Messages from \"./Messages/Messages\";\nimport MetaPanel from \"./MetaPanel/MetaPanel\";\n\nconst App = ({ currentUser, currentChannel, isPrivateChannel, userPosts,\nprimaryColor, secondaryColor }) => (\n  <Grid columns=\"equal\" className=\"app\" style={{ background: secondaryColor }}>\n    <ColorPanel\n      key={currentUser && currentUser.name}\n      currentUser={currentUser}\n    />\n    <SidePanel \n      key={currentUser && currentUser.uid} \n      currentUser={currentUser}\n      primaryColor={primaryColor} \n    />\n\n    <Grid.Column style={{ marginLeft: 320 }}>\n      <Messages\n        key={currentChannel && currentChannel.id}\n        currentChannel={currentChannel}\n        currentUser={currentUser}\n        isPrivateChannel={isPrivateChannel}\n      />\n    </Grid.Column>\n\n    <Grid.Column width={4}>\n      <MetaPanel\n        key={currentChannel && currentChannel.name}\n        userPosts={userPosts}\n        currentChannel={currentChannel}\n        isPrivateChannel={isPrivateChannel}\n      />\n    </Grid.Column>\n  </Grid>\n);\n\nconst mapStateToProps = state => ({\n  currentUser: state.user.currentUser,\n  currentChannel: state.channel.currentChannel,\n  isPrivateChannel: state.channel.isPrivateChannel,\n  userPosts: state.channel.userPosts,\n  primaryColor: state.colors.primaryColor,\n  secondaryColor: state.colors.secondaryColor\n});\n\nexport default connect(mapStateToProps)(App);\n","import React from \"react\";\nimport firebase from \"../../firebase\";\nimport {\n  Grid,\n  Form,\n  Segment,\n  Button,\n  Header,\n  Message,\n  Icon\n} from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\n\nclass Login extends React.Component {\n  state = {\n    email: \"\",\n    password: \"\",\n    errors: [],\n    loading: false\n  };\n\n  displayErrors = errors =>\n    errors.map((error, i) => <p key={i}>{error.message}</p>);\n\n  handleChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    if (this.isFormValid(this.state)) {\n      this.setState({ errors: [], loading: true });\n      firebase\n        .auth()\n        .signInWithEmailAndPassword(this.state.email, this.state.password)\n        .then(signedInUser => {\n          console.log(signedInUser);\n        })\n        .catch(err => {\n          console.error(err);\n          this.setState({\n            errors: this.state.errors.concat(err),\n            loading: false\n          });\n        });\n    }\n  };\n\n  isFormValid = ({ email, password }) => email && password;\n\n  handleInputError = (errors, inputName) => {\n    return errors.some(error => error.message.toLowerCase().includes(inputName))\n      ? \"error\"\n      : \"\";\n  };\n\n  render() {\n    const { email, password, errors, loading } = this.state;\n\n    return (\n      <Grid textAlign=\"center\" verticalAlign=\"middle\" className=\"app\">\n        <Grid.Column style={{ maxWidth: 450 }}>\n          <Header as=\"h1\" icon color=\"violet\" textAlign=\"center\">\n            <Icon name=\"code branch\" color=\"violet\" />\n            Login to HelpingHand\n          </Header>\n          <Form onSubmit={this.handleSubmit} size=\"large\">\n            <Segment stacked>\n              <Form.Input\n                fluid\n                name=\"email\"\n                icon=\"mail\"\n                iconPosition=\"left\"\n                placeholder=\"Email Address\"\n                onChange={this.handleChange}\n                value={email}\n                className={this.handleInputError(errors, \"email\")}\n                type=\"email\"\n              />\n\n              <Form.Input\n                fluid\n                name=\"password\"\n                icon=\"lock\"\n                iconPosition=\"left\"\n                placeholder=\"Password\"\n                onChange={this.handleChange}\n                value={password}\n                className={this.handleInputError(errors, \"password\")}\n                type=\"password\"\n              />\n\n              <Button\n                disabled={loading}\n                className={loading ? \"loading\" : \"\"}\n                color=\"violet\"\n                fluid\n                size=\"large\"\n              >\n                Submit\n              </Button>\n            </Segment>\n          </Form>\n          {errors.length > 0 && (\n            <Message error>\n              <h3>Error</h3>\n              {this.displayErrors(errors)}\n            </Message>\n          )}\n          <Message>\n            Don't have an account? <Link to=\"/register\">Register</Link>\n          </Message>\n        </Grid.Column>\n      </Grid>\n    );\n  }\n}\n\nexport default Login;\n","import React from \"react\";\nimport firebase from \"../../firebase\";\nimport md5 from \"md5\";\nimport {\n  Grid,\n  Form,\n  Segment,\n  Button,\n  Header,\n  Message,\n  Icon\n} from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\n\nclass Register extends React.Component {\n  state = {\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    passwordConfirmation: \"\",\n    errors: [],\n    loading: false,\n    usersRef: firebase.database().ref(\"users\")\n  };\n\n  isFormValid = () => {\n    let errors = [];\n    let error;\n\n    if (this.isFormEmpty(this.state)) {\n      error = { message: \"Fill in all fields\" };\n      this.setState({ errors: errors.concat(error) });\n      return false;\n    } else if (!this.isPasswordValid(this.state)) {\n      error = { message: \"Password is invalid\" };\n      this.setState({ errors: errors.concat(error) });\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  isFormEmpty = ({ username, email, password, passwordConfirmation }) => {\n    return (\n      !username.length ||\n      !email.length ||\n      !password.length ||\n      !passwordConfirmation.length\n    );\n  };\n\n  isPasswordValid = ({ password, passwordConfirmation }) => {\n    if (password.length < 6 || passwordConfirmation.length < 6) {\n      return false;\n    } else if (password !== passwordConfirmation) {\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  displayErrors = errors =>\n    errors.map((error, i) => <p key={i}>{error.message}</p>);\n\n  handleChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    if (this.isFormValid()) {\n      this.setState({ errors: [], loading: true });\n      firebase\n        .auth()\n        .createUserWithEmailAndPassword(this.state.email, this.state.password)\n        .then(createdUser => {\n          console.log(createdUser);\n          createdUser.user\n            .updateProfile({\n              displayName: this.state.username,\n              photoURL: `http://gravatar.com/avatar/${md5(\n                createdUser.user.email\n              )}?d=identicon`\n            })\n            .then(() => {\n              this.saveUser(createdUser).then(() => {\n                console.log(\"user saved\");\n              });\n            })\n            .catch(err => {\n              console.error(err);\n              this.setState({\n                errors: this.state.errors.concat(err),\n                loading: false\n              });\n            });\n        })\n        .catch(err => {\n          console.error(err);\n          this.setState({\n            errors: this.state.errors.concat(err),\n            loading: false\n          });\n        });\n    }\n  };\n\n  saveUser = createdUser => {\n    return this.state.usersRef.child(createdUser.user.uid).set({\n      name: createdUser.user.displayName,\n      avatar: createdUser.user.photoURL\n    });\n  };\n\n  handleInputError = (errors, inputName) => {\n    return errors.some(error => error.message.toLowerCase().includes(inputName))\n      ? \"error\"\n      : \"\";\n  };\n\n  render() {\n    const {\n      username,\n      email,\n      password,\n      passwordConfirmation,\n      errors,\n      loading\n    } = this.state;\n\n    return (\n      <Grid textAlign=\"center\" verticalAlign=\"middle\" className=\"app\">\n        <Grid.Column style={{ maxWidth: 450 }}>\n          <Header as=\"h1\" icon color=\"orange\" textAlign=\"center\">\n            <Icon name=\"puzzle piece\" color=\"orange\" />\n            Register for HelpingHand\n          </Header>\n          <Form onSubmit={this.handleSubmit} size=\"large\">\n            <Segment stacked>\n              <Form.Input\n                fluid\n                name=\"username\"\n                icon=\"user\"\n                iconPosition=\"left\"\n                placeholder=\"Username\"\n                onChange={this.handleChange}\n                value={username}\n                type=\"text\"\n              />\n\n              <Form.Input\n                fluid\n                name=\"email\"\n                icon=\"mail\"\n                iconPosition=\"left\"\n                placeholder=\"Email Address\"\n                onChange={this.handleChange}\n                value={email}\n                className={this.handleInputError(errors, \"email\")}\n                type=\"email\"\n              />\n\n              <Form.Input\n                fluid\n                name=\"password\"\n                icon=\"lock\"\n                iconPosition=\"left\"\n                placeholder=\"Password\"\n                onChange={this.handleChange}\n                value={password}\n                className={this.handleInputError(errors, \"password\")}\n                type=\"password\"\n              />\n\n              <Form.Input\n                fluid\n                name=\"passwordConfirmation\"\n                icon=\"repeat\"\n                iconPosition=\"left\"\n                placeholder=\"Password Confirmation\"\n                onChange={this.handleChange}\n                value={passwordConfirmation}\n                className={this.handleInputError(errors, \"password\")}\n                type=\"password\"\n              />\n\n              <Button\n                disabled={loading}\n                className={loading ? \"loading\" : \"\"}\n                color=\"orange\"\n                fluid\n                size=\"large\"\n              >\n                Submit\n              </Button>\n            </Segment>\n          </Form>\n          {errors.length > 0 && (\n            <Message error>\n              <h3>Error</h3>\n              {this.displayErrors(errors)}\n            </Message>\n          )}\n          <Message>\n            Already a user? <Link to=\"/login\">Login</Link>\n          </Message>\n        </Grid.Column>\n      </Grid>\n    );\n  }\n}\n\nexport default Register;\n","import React from \"react\";\nimport { Loader, Dimmer } from \"semantic-ui-react\";\n\nconst Spinner = () => (\n  <Dimmer active>\n    <Loader size=\"huge\" content={\"Preparing Chat...\"} />\n  </Dimmer>\n);\n\nexport default Spinner;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { combineReducers } from \"redux\";\nimport * as actionTypes from \"../actions/types\";\n\nconst initialUserState = {\n  currentUser: null,\n  isLoading: true,\n  userPosts: null\n};\n\nconst user_reducer = (state = initialUserState, action) => {\n  switch (action.type) {\n    case actionTypes.SET_USER:\n      return {\n        currentUser: action.payload.currentUser,\n        isLoading: false\n      };\n    case actionTypes.CLEAR_USER:\n      return {\n        ...state,\n        isLoading: false\n      };\n    default:\n      return state;\n  }\n};\n\nconst initialChannelState = {\n  currentChannel: null,\n  isPrivateChannel: false\n};\n\nconst channel_reducer = (state = initialChannelState, action) => {\n  switch (action.type) {\n    case actionTypes.SET_CURRENT_CHANNEL:\n      return {\n        ...state,\n        currentChannel: action.payload.currentChannel\n      };\n    case actionTypes.SET_PRIVATE_CHANNEL:\n      return {\n        ...state,\n        isPrivateChannel: action.payload.isPrivateChannel\n      };\n    case actionTypes.SET_PRIVATE_POSTS:\n      return {\n        ...state,\n        userPosts: action.payload.userPosts\n      }\n    default:\n      return state;\n  }\n};\n\nconst InitialColorsState = {\n  primaryColor: \"#4c3c4c\",\n  secondaryColor: \"#eee\"\n}\n\nconst colors_reducer = (state = InitialColorsState, action) => {\n  switch(action.type){\n    case actionTypes.SET_COLORS:\n      return {\n        primaryColor: action.payload.primaryColor,\n        secondaryColor: action.payload.secondaryColor\n      }\n    default:\n      return state;  \n  }\n};\n\nconst rootReducer = combineReducers({\n  user: user_reducer,\n  channel: channel_reducer,\n  colors: colors_reducer\n});\n\nexport default rootReducer;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport Login from \"./components/Auth/Login\";\nimport Register from \"./components/Auth/Register\";\nimport Spinner from \"./Spinner\";\nimport registerServiceWorker from \"./registerServiceWorker\";\nimport firebase from \"./firebase\";\n\nimport \"semantic-ui-css/semantic.min.css\";\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  withRouter\n} from \"react-router-dom\";\n\nimport { createStore } from \"redux\";\nimport { Provider, connect } from \"react-redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport rootReducer from \"./reducers\";\nimport { setUser, clearUser } from \"./actions\";\n\nconst store = createStore(rootReducer, composeWithDevTools());\n\nclass Root extends React.Component {\n  componentDidMount() {\n    firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        // console.log(user);\n        this.props.setUser(user);\n        this.props.history.push(\"/\");\n      } else {\n        this.props.history.push(\"/login\");\n        this.props.clearUser();\n      }\n    });\n  }\n\n  render() {\n    return this.props.isLoading ? (\n      <Spinner />\n    ) : (\n      <Switch>\n        <Route exact path=\"/\" component={App} />\n        <Route path=\"/login\" component={Login} />\n        <Route path=\"/register\" component={Register} />\n      </Switch>\n    );\n  }\n}\n\nconst mapStateFromProps = state => ({\n  isLoading: state.user.isLoading\n});\n\nconst RootWithAuth = withRouter(\n  connect(\n    mapStateFromProps,\n    { setUser, clearUser }\n  )(Root)\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router>\n      <RootWithAuth />\n    </Router>\n  </Provider>,\n  document.getElementById(\"root\")\n);\nregisterServiceWorker();\n"]}}